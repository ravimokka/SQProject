{"ast":null,"code":"/**\n* Copyright 2012-2019, Plotly, Inc.\n* All rights reserved.\n*\n* This source code is licensed under the MIT license found in the\n* LICENSE file in the root directory of this source tree.\n*/\n'use strict';\n\nvar setCursor = require('./setcursor');\n\nvar STASHATTR = 'data-savedcursor';\nvar NO_CURSOR = '!!';\n/*\n * works with our CSS cursor classes (see css/_cursor.scss)\n * to override a previous cursor set on d3 single-element selections,\n * by moving the name of the original cursor to the data-savedcursor attr.\n * omit cursor to revert to the previously set value.\n */\n\nmodule.exports = function overrideCursor(el3, csr) {\n  var savedCursor = el3.attr(STASHATTR);\n\n  if (csr) {\n    if (!savedCursor) {\n      var classes = (el3.attr('class') || '').split(' ');\n\n      for (var i = 0; i < classes.length; i++) {\n        var cls = classes[i];\n\n        if (cls.indexOf('cursor-') === 0) {\n          el3.attr(STASHATTR, cls.substr(7)).classed(cls, false);\n        }\n      }\n\n      if (!el3.attr(STASHATTR)) {\n        el3.attr(STASHATTR, NO_CURSOR);\n      }\n    }\n\n    setCursor(el3, csr);\n  } else if (savedCursor) {\n    el3.attr(STASHATTR, null);\n    if (savedCursor === NO_CURSOR) setCursor(el3);else setCursor(el3, savedCursor);\n  }\n};","map":null,"metadata":{},"sourceType":"script"}