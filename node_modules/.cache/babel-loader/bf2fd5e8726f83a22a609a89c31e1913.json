{"ast":null,"code":"'use strict';\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) {\n  return typeof obj;\n} : function (obj) {\n  return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n};\n\nfunction _objectWithoutProperties(obj, keys) {\n  var target = {};\n\n  for (var i in obj) {\n    if (keys.indexOf(i) >= 0) continue;\n    if (!Object.prototype.hasOwnProperty.call(obj, i)) continue;\n    target[i] = obj[i];\n  }\n\n  return target;\n}\n\nvar ConstantInfiniteComputer = require('../computers/constantInfiniteComputer.js');\n\nvar ArrayInfiniteComputer = require('../computers/arrayInfiniteComputer.js');\n\nvar scaleEnum = require('./scaleEnum');\n\nvar React = global.React || require('react');\n\nvar window = require('./window');\n\nfunction createInfiniteComputer(data, children) {\n  var computer;\n  var numberOfChildren = React.Children.count(children); // This should be guaranteed by checkProps\n\n  if (Array.isArray(data)) {\n    computer = new ArrayInfiniteComputer(data, numberOfChildren);\n  } else {\n    computer = new ConstantInfiniteComputer(data, numberOfChildren);\n  }\n\n  return computer;\n} // Given the scrollTop of the container, computes the state the\n// component should be in. The goal is to abstract all of this\n// from any actual representation in the DOM.\n// The window is the block with any preloadAdditionalHeight\n// added to it.\n\n\nfunction recomputeApertureStateFromOptionsAndScrollTop(_ref, scrollTop) {\n  var preloadBatchSize = _ref.preloadBatchSize,\n      preloadAdditionalHeight = _ref.preloadAdditionalHeight,\n      infiniteComputer = _ref.infiniteComputer;\n  var blockNumber = preloadBatchSize === 0 ? 0 : Math.floor(scrollTop / preloadBatchSize),\n      blockStart = preloadBatchSize * blockNumber,\n      blockEnd = blockStart + preloadBatchSize,\n      apertureTop = Math.max(0, blockStart - preloadAdditionalHeight),\n      apertureBottom = Math.min(infiniteComputer.getTotalScrollableHeight(), blockEnd + preloadAdditionalHeight);\n  return {\n    displayIndexStart: infiniteComputer.getDisplayIndexStart(apertureTop),\n    displayIndexEnd: infiniteComputer.getDisplayIndexEnd(apertureBottom)\n  };\n}\n\nfunction generateComputedProps(props) {\n  // These are extracted so their type definitions do not conflict.\n  var containerHeight = props.containerHeight,\n      preloadBatchSize = props.preloadBatchSize,\n      preloadAdditionalHeight = props.preloadAdditionalHeight,\n      handleScroll = props.handleScroll,\n      onInfiniteLoad = props.onInfiniteLoad,\n      oldProps = _objectWithoutProperties(props, ['containerHeight', 'preloadBatchSize', 'preloadAdditionalHeight', 'handleScroll', 'onInfiniteLoad']);\n\n  var newProps = {};\n  containerHeight = typeof containerHeight === 'number' ? containerHeight : 0;\n  newProps.containerHeight = props.useWindowAsScrollContainer ? window.innerHeight : containerHeight;\n\n  newProps.handleScroll = handleScroll || function () {};\n\n  newProps.onInfiniteLoad = onInfiniteLoad || function () {};\n\n  var defaultPreloadBatchSizeScaling = {\n    type: scaleEnum.CONTAINER_HEIGHT_SCALE_FACTOR,\n    amount: 0.5\n  };\n  var batchSize = preloadBatchSize && preloadBatchSize.type ? preloadBatchSize : defaultPreloadBatchSizeScaling;\n\n  if (typeof preloadBatchSize === 'number') {\n    newProps.preloadBatchSize = preloadBatchSize;\n  } else if ((typeof batchSize === 'undefined' ? 'undefined' : _typeof(batchSize)) === 'object' && batchSize.type === scaleEnum.CONTAINER_HEIGHT_SCALE_FACTOR) {\n    newProps.preloadBatchSize = newProps.containerHeight * batchSize.amount;\n  } else {\n    newProps.preloadBatchSize = 0;\n  }\n\n  var defaultPreloadAdditionalHeightScaling = {\n    type: scaleEnum.CONTAINER_HEIGHT_SCALE_FACTOR,\n    amount: 1\n  };\n  var additionalHeight = preloadAdditionalHeight && preloadAdditionalHeight.type ? preloadAdditionalHeight : defaultPreloadAdditionalHeightScaling;\n\n  if (typeof preloadAdditionalHeight === 'number') {\n    newProps.preloadAdditionalHeight = preloadAdditionalHeight;\n  } else if ((typeof additionalHeight === 'undefined' ? 'undefined' : _typeof(additionalHeight)) === 'object' && additionalHeight.type === scaleEnum.CONTAINER_HEIGHT_SCALE_FACTOR) {\n    newProps.preloadAdditionalHeight = newProps.containerHeight * additionalHeight.amount;\n  } else {\n    newProps.preloadAdditionalHeight = 0;\n  }\n\n  return Object.assign(oldProps, newProps);\n}\n\nfunction buildHeightStyle(height) {\n  return {\n    width: '100%',\n    height: Math.ceil(height)\n  };\n}\n\nmodule.exports = {\n  createInfiniteComputer: createInfiniteComputer,\n  recomputeApertureStateFromOptionsAndScrollTop: recomputeApertureStateFromOptionsAndScrollTop,\n  generateComputedProps: generateComputedProps,\n  buildHeightStyle: buildHeightStyle\n};","map":{"version":3,"sources":["/home/user/Desktop/milonux-sq-dashboard-59aefe7abad7/node_modules/react-infinite/build/utils/infiniteHelpers.js"],"names":["_typeof","Symbol","iterator","obj","constructor","prototype","_objectWithoutProperties","keys","target","i","indexOf","Object","hasOwnProperty","call","ConstantInfiniteComputer","require","ArrayInfiniteComputer","scaleEnum","React","global","window","createInfiniteComputer","data","children","computer","numberOfChildren","Children","count","Array","isArray","recomputeApertureStateFromOptionsAndScrollTop","_ref","scrollTop","preloadBatchSize","preloadAdditionalHeight","infiniteComputer","blockNumber","Math","floor","blockStart","blockEnd","apertureTop","max","apertureBottom","min","getTotalScrollableHeight","displayIndexStart","getDisplayIndexStart","displayIndexEnd","getDisplayIndexEnd","generateComputedProps","props","containerHeight","handleScroll","onInfiniteLoad","oldProps","newProps","useWindowAsScrollContainer","innerHeight","defaultPreloadBatchSizeScaling","type","CONTAINER_HEIGHT_SCALE_FACTOR","amount","batchSize","defaultPreloadAdditionalHeightScaling","additionalHeight","assign","buildHeightStyle","height","width","ceil","module","exports"],"mappings":"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","sourcesContent":["'use strict';\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nfunction _objectWithoutProperties(obj, keys) { var target = {}; for (var i in obj) { if (keys.indexOf(i) >= 0) continue; if (!Object.prototype.hasOwnProperty.call(obj, i)) continue; target[i] = obj[i]; } return target; }\n\nvar ConstantInfiniteComputer = require('../computers/constantInfiniteComputer.js');\nvar ArrayInfiniteComputer = require('../computers/arrayInfiniteComputer.js');\nvar scaleEnum = require('./scaleEnum');\nvar React = global.React || require('react');\nvar window = require('./window');\n\nfunction createInfiniteComputer(data, children) {\n  var computer;\n  var numberOfChildren = React.Children.count(children);\n\n  // This should be guaranteed by checkProps\n  if (Array.isArray(data)) {\n    computer = new ArrayInfiniteComputer(data, numberOfChildren);\n  } else {\n    computer = new ConstantInfiniteComputer(data, numberOfChildren);\n  }\n  return computer;\n}\n\n// Given the scrollTop of the container, computes the state the\n// component should be in. The goal is to abstract all of this\n// from any actual representation in the DOM.\n// The window is the block with any preloadAdditionalHeight\n// added to it.\nfunction recomputeApertureStateFromOptionsAndScrollTop(_ref, scrollTop) {\n  var preloadBatchSize = _ref.preloadBatchSize,\n      preloadAdditionalHeight = _ref.preloadAdditionalHeight,\n      infiniteComputer = _ref.infiniteComputer;\n\n  var blockNumber = preloadBatchSize === 0 ? 0 : Math.floor(scrollTop / preloadBatchSize),\n      blockStart = preloadBatchSize * blockNumber,\n      blockEnd = blockStart + preloadBatchSize,\n      apertureTop = Math.max(0, blockStart - preloadAdditionalHeight),\n      apertureBottom = Math.min(infiniteComputer.getTotalScrollableHeight(), blockEnd + preloadAdditionalHeight);\n\n  return {\n    displayIndexStart: infiniteComputer.getDisplayIndexStart(apertureTop),\n    displayIndexEnd: infiniteComputer.getDisplayIndexEnd(apertureBottom)\n  };\n}\n\nfunction generateComputedProps(props) {\n  // These are extracted so their type definitions do not conflict.\n  var containerHeight = props.containerHeight,\n      preloadBatchSize = props.preloadBatchSize,\n      preloadAdditionalHeight = props.preloadAdditionalHeight,\n      handleScroll = props.handleScroll,\n      onInfiniteLoad = props.onInfiniteLoad,\n      oldProps = _objectWithoutProperties(props, ['containerHeight', 'preloadBatchSize', 'preloadAdditionalHeight', 'handleScroll', 'onInfiniteLoad']);\n\n  var newProps = {};\n  containerHeight = typeof containerHeight === 'number' ? containerHeight : 0;\n  newProps.containerHeight = props.useWindowAsScrollContainer ? window.innerHeight : containerHeight;\n\n  newProps.handleScroll = handleScroll || function () {};\n  newProps.onInfiniteLoad = onInfiniteLoad || function () {};\n\n  var defaultPreloadBatchSizeScaling = {\n    type: scaleEnum.CONTAINER_HEIGHT_SCALE_FACTOR,\n    amount: 0.5\n  };\n  var batchSize = preloadBatchSize && preloadBatchSize.type ? preloadBatchSize : defaultPreloadBatchSizeScaling;\n\n  if (typeof preloadBatchSize === 'number') {\n    newProps.preloadBatchSize = preloadBatchSize;\n  } else if ((typeof batchSize === 'undefined' ? 'undefined' : _typeof(batchSize)) === 'object' && batchSize.type === scaleEnum.CONTAINER_HEIGHT_SCALE_FACTOR) {\n    newProps.preloadBatchSize = newProps.containerHeight * batchSize.amount;\n  } else {\n    newProps.preloadBatchSize = 0;\n  }\n\n  var defaultPreloadAdditionalHeightScaling = {\n    type: scaleEnum.CONTAINER_HEIGHT_SCALE_FACTOR,\n    amount: 1\n  };\n  var additionalHeight = preloadAdditionalHeight && preloadAdditionalHeight.type ? preloadAdditionalHeight : defaultPreloadAdditionalHeightScaling;\n  if (typeof preloadAdditionalHeight === 'number') {\n    newProps.preloadAdditionalHeight = preloadAdditionalHeight;\n  } else if ((typeof additionalHeight === 'undefined' ? 'undefined' : _typeof(additionalHeight)) === 'object' && additionalHeight.type === scaleEnum.CONTAINER_HEIGHT_SCALE_FACTOR) {\n    newProps.preloadAdditionalHeight = newProps.containerHeight * additionalHeight.amount;\n  } else {\n    newProps.preloadAdditionalHeight = 0;\n  }\n\n  return Object.assign(oldProps, newProps);\n}\n\nfunction buildHeightStyle(height) {\n  return {\n    width: '100%',\n    height: Math.ceil(height)\n  };\n}\n\nmodule.exports = {\n  createInfiniteComputer: createInfiniteComputer,\n  recomputeApertureStateFromOptionsAndScrollTop: recomputeApertureStateFromOptionsAndScrollTop,\n  generateComputedProps: generateComputedProps,\n  buildHeightStyle: buildHeightStyle\n};"]},"metadata":{},"sourceType":"script"}