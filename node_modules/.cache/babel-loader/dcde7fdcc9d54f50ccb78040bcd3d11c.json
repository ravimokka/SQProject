{"ast":null,"code":"/**\n* Copyright 2012-2019, Plotly, Inc.\n* All rights reserved.\n*\n* This source code is licensed under the MIT license found in the\n* LICENSE file in the root directory of this source tree.\n*/\n'use strict';\n\nvar Registry = require('../../registry');\n\nvar Lib = require('../../lib');\n\nmodule.exports = {\n  moduleType: 'component',\n  name: 'annotations3d',\n  schema: {\n    subplots: {\n      scene: {\n        annotations: require('./attributes')\n      }\n    }\n  },\n  layoutAttributes: require('./attributes'),\n  handleDefaults: require('./defaults'),\n  includeBasePlot: includeGL3D,\n  convert: require('./convert'),\n  draw: require('./draw')\n};\n\nfunction includeGL3D(layoutIn, layoutOut) {\n  var GL3D = Registry.subplotsRegistry.gl3d;\n  if (!GL3D) return;\n  var attrRegex = GL3D.attrRegex;\n  var keys = Object.keys(layoutIn);\n\n  for (var i = 0; i < keys.length; i++) {\n    var k = keys[i];\n\n    if (attrRegex.test(k) && (layoutIn[k].annotations || []).length) {\n      Lib.pushUnique(layoutOut._basePlotModules, GL3D);\n      Lib.pushUnique(layoutOut._subplots.gl3d, k);\n    }\n  }\n}","map":null,"metadata":{},"sourceType":"script"}