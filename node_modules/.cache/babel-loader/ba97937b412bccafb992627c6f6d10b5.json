{"ast":null,"code":"var _jsxFileName = \"/home/user/Desktop/milonux-sq-dashboard-59aefe7abad7/src/Management/Layout/PageLayout.js\";\nimport React, { Component } from \"react\";\nimport { Layout, Menu, Dropdown, Icon, Button, Avatar, Drawer } from \"antd\";\nimport { Link } from \"react-router-dom\";\nimport AppRouter from \"../../router\";\nimport { NotificationTab } from \"../components/Header\";\nimport \"./PageLayout.scss\";\nimport { Host } from \"../../Host\";\nimport axios from \"axios\";\nimport firebase from 'firebase';\nimport ChartRoom from \"./chart_room.js\";\nconst Header = Layout.Header,\n      Sider = Layout.Sider,\n      Content = Layout.Content;\nconst SubMenu = Menu.SubMenu;\nconst messageMenu = React.createElement(Menu, {\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 18\n  },\n  __self: this\n}, React.createElement(Menu.Item, {\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 19\n  },\n  __self: this\n}, \"Message\"));\n\nclass PageLayout extends Component {\n  constructor(props) {\n    super(props);\n\n    this.toggle = () => {\n      this.setState({\n        collapsed: !this.state.collapsed\n      });\n    };\n\n    this.state = {\n      visible: false\n    };\n\n    this.showDrawer = () => {\n      this.setState({\n        visible: true\n      });\n    };\n\n    this.onClose = () => {\n      this.setState({\n        visible: false\n      });\n    };\n\n    this.handleSubmitLogout = e => {\n      this.userLogout();\n    };\n\n    this.state = {\n      collapsed: false,\n      windowWidth: '',\n      windowHeight: '',\n      values: [{\n        name: \"John Doe\",\n        date: \"2017-09-15\"\n      }],\n      User_Name: '',\n      User_Email: '',\n      userRights: []\n    };\n    this.updateDimensions = this.updateDimensions.bind(this);\n  }\n\n  componentWillMount() {\n    var profile_data = JSON.parse(sessionStorage.getItem(\"session_data\"));\n\n    if (profile_data != null) {\n      this.setState({\n        User_Name: profile_data['first_name'] + \"  \" + profile_data['last_name']\n      });\n      this.setState({\n        User_Email: profile_data['email']\n      });\n      this.setState({\n        user_id: profile_data['user_id']\n      });\n\n      if (profile_data['user_rights'] != '') {\n        var i;\n        var userRights = [];\n        var index = 7;\n\n        for (var i = 0; i < profile_data['user_rights'].length; i++) {\n          index += 1;\n          var u_rights = profile_data['user_rights'][i];\n\n          if (u_rights == 'Financial') {\n            var type = 'transaction';\n          }\n\n          if (u_rights == 'Operational') {\n            var type = 'solution';\n          }\n\n          if (u_rights == 'Management') {\n            var type = 'home';\n          }\n\n          var menuList = {\n            'type': type,\n            'menuName': u_rights,\n            'linkName': u_rights.toLowerCase() + '-charts',\n            'index': index\n          };\n          userRights.push(menuList);\n        }\n\n        this.setState({\n          userRights: userRights\n        });\n      }\n    }\n  }\n\n  updateDimensions() {\n    var w = window,\n        d = document,\n        documentElement = d.documentElement,\n        body = d.getElementsByTagName('body')[0],\n        width = w.innerWidth || documentElement.clientWidth || body.clientWidth,\n        height = w.innerHeight || documentElement.clientHeight || body.clientHeight;\n    this.setState({\n      windowWidth: width,\n      windowHeight: height\n    });\n    width <= 991 ? this.setState({\n      collapsed: true\n    }) : this.setState({\n      collapsed: false\n    });\n  }\n\n  componentDidMount() {\n    window.addEventListener(\"resize\", this.updateDimensions);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener(\"resize\", this.updateDimensions);\n  }\n\n  async userLogout() {\n    firebase.database().ref().child('messages/' + 'users').orderByChild(\"user_Id\").equalTo(this.state.user_id).on(\"value\", function (snapshot) {\n      if (snapshot.val() != null) {\n        if (Object.values(snapshot.val()).length >= 1) {\n          snapshot.forEach(function (data) {\n            var record = data.val();\n            var key = data.key;\n            var today = new Date();\n            var time = today.getHours() + ':' + today.getMinutes() + ':' + today.getSeconds();\n            var date = today.getFullYear() + '-' + (today.getMonth() + 1) + '-' + today.getDate();\n            firebase.database().ref().child('messages/' + 'users/' + key).update({\n              user_status: \"offline\",\n              time: time\n            });\n          });\n        }\n      } else {}\n    });\n  }\n\n  render() {\n    const userMenu = React.createElement(Menu, {\n      style: {\n        minWidth: \"260px\"\n      },\n      className: \"dropdown-menuuser\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 140\n      },\n      __self: this\n    }, React.createElement(Menu.Item, {\n      style: {\n        padding: \"0\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 141\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"usermenu-header\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 142\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 143\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 144\n      },\n      __self: this\n    }, React.createElement(Avatar, {\n      src: \"https://zos.alipayobjects.com/rmsportal/ODTLcjxAfvqbxHnVXCYX.png\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 145\n      },\n      __self: this\n    }))), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 148\n      },\n      __self: this\n    }, React.createElement(\"h6\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 149\n      },\n      __self: this\n    }, this.state.User_Name), React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 150\n      },\n      __self: this\n    }, this.state.User_Email)))), React.createElement(Menu.Item, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 154\n      },\n      __self: this\n    }, React.createElement(Link, {\n      to: {\n        pathname: '/persoanl-account',\n        data: this.state.profile_data\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 155\n      },\n      __self: this\n    }, \" My Account\")), React.createElement(Menu.Item, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 157\n      },\n      __self: this\n    }, React.createElement(Link, {\n      to: {\n        pathname: '/add-user',\n        data: this.state.profile_data\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 158\n      },\n      __self: this\n    }, \"Add User\")), React.createElement(Menu.Item, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 160\n      },\n      __self: this\n    }, React.createElement(Link, {\n      to: \"\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 161\n      },\n      __self: this\n    }, \"Company Settings\")), React.createElement(Menu.Item, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 163\n      },\n      __self: this\n    }, React.createElement(Link, {\n      to: \"\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 164\n      },\n      __self: this\n    }, React.createElement(Button, {\n      type: \"primary\",\n      block: true,\n      onClick: this.handleSubmitLogout,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 165\n      },\n      __self: this\n    }, \"Logout\"))));\n    return React.createElement(Layout, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 174\n      },\n      __self: this\n    }, React.createElement(Sider, {\n      trigger: null,\n      collapsible: true,\n      collapsed: this.state.collapsed,\n      width: 220,\n      className: \"mi-sidebar\",\n      style: {\n        background: '#fff'\n      }\n      /* style={{\n        overflow: 'auto',\n        height: '100vh',\n        position: 'fixed',\n        left: 0,\n      }} */\n      ,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 175\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"navbar-logo\",\n      style: {\n        backgroundColor: \"white\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 188\n      },\n      __self: this\n    }, React.createElement(Link, {\n      to: \"/personal-home\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 189\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      src: \"/assets/images/logo.png\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 190\n      },\n      __self: this\n    }))), React.createElement(Menu, {\n      theme: \"light\",\n      mode: \"inline\",\n      defaultSelectedKeys: [\"1\"],\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 193\n      },\n      __self: this\n    }, React.createElement(Menu.Item, {\n      key: \"1\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 194\n      },\n      __self: this\n    }, React.createElement(Link, {\n      to: \"/personal-home\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 195\n      },\n      __self: this\n    }, React.createElement(Icon, {\n      type: \"dashboard\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 196\n      },\n      __self: this\n    }), React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 197\n      },\n      __self: this\n    }, \"Dashboard\"))), this.state.userRights.map((value, index) => React.createElement(Menu.Item, {\n      key: value.index,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 229\n      },\n      __self: this\n    }, React.createElement(Link, {\n      to: value.linkName,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 230\n      },\n      __self: this\n    }, React.createElement(Icon, {\n      type: value.type,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 231\n      },\n      __self: this\n    }), React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 232\n      },\n      __self: this\n    }, value.menuName)))), React.createElement(Menu.Item, {\n      key: \"11\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 246\n      },\n      __self: this\n    }, React.createElement(Link, {\n      to: \"/personal-source\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 247\n      },\n      __self: this\n    }, React.createElement(Icon, {\n      type: \"project\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 248\n      },\n      __self: this\n    }), React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 249\n      },\n      __self: this\n    }, \"Source\"))), React.createElement(Menu.Item, {\n      key: \"12\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 252\n      },\n      __self: this\n    }, React.createElement(Link, {\n      to: \"/personal-documents\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 253\n      },\n      __self: this\n    }, React.createElement(Icon, {\n      type: \"file\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 254\n      },\n      __self: this\n    }), React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 255\n      },\n      __self: this\n    }, \"Documents\"))), React.createElement(SubMenu, {\n      key: \"sub4\",\n      title: React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 261\n        },\n        __self: this\n      }, React.createElement(Icon, {\n        type: \"setting\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 262\n        },\n        __self: this\n      }), React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 263\n        },\n        __self: this\n      }, \"Settings\")),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 258\n      },\n      __self: this\n    }, React.createElement(Menu.Item, {\n      key: \"10\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 267\n      },\n      __self: this\n    }, React.createElement(Link, {\n      to: \"/persoanl-account\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 268\n      },\n      __self: this\n    }, \"My Account\")), React.createElement(Menu.Item, {\n      key: \"11\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 270\n      },\n      __self: this\n    }, \"Company Settings\")))), React.createElement(Layout\n    /* style={{ marginLeft: 220 }} */\n    , {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 274\n      },\n      __self: this\n    }, React.createElement(Header, {\n      className: \"mi-header\",\n      style: {\n        /* position: 'fixed', zIndex: 1, width: '100%', */\n        backgroundColor: \"white\",\n        color: \"black\",\n        padding: 0\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 275\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"header-block\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 277\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      className: \"header-trigger\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 278\n      },\n      __self: this\n    }, React.createElement(Icon, {\n      style: {\n        color: \"black\"\n      },\n      className: \"trigger\",\n      type: this.state.collapsed ? \"menu-unfold\" : \"menu-fold\",\n      onClick: this.toggle,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 279\n      },\n      __self: this\n    })), React.createElement(\"ul\", {\n      className: \"nav-actions\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 286\n      },\n      __self: this\n    }, React.createElement(\"li\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 287\n      },\n      __self: this\n    }, React.createElement(Dropdown, {\n      overlay: React.createElement(NotificationTab, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 289\n        },\n        __self: this\n      }),\n      placement: \"bottomRight\",\n      trigger: [\"click\"],\n      className: \"dropdown-notification\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 288\n      },\n      __self: this\n    }, React.createElement(\"a\", {\n      className: \"ant-dropdown-link d-dropdown-link\",\n      href: \"#\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 294\n      },\n      __self: this\n    }, React.createElement(Icon, {\n      type: \"bell\",\n      style: {\n        color: \"black\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 295\n      },\n      __self: this\n    })))), React.createElement(\"li\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 299\n      },\n      __self: this\n    }, React.createElement(Dropdown, {\n      overlay: userMenu,\n      placement: \"bottomRight\",\n      trigger: [\"click\"],\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 300\n      },\n      __self: this\n    }, React.createElement(\"a\", {\n      className: \"ant-dropdown-link d-dropdown-link\",\n      href: \"#\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 305\n      },\n      __self: this\n    }, React.createElement(Icon, {\n      type: \"user\",\n      style: {\n        color: \"black\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 306\n      },\n      __self: this\n    })))), React.createElement(\"li\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 310\n      },\n      __self: this\n    }, React.createElement(\"a\", {\n      className: \"ant-dropdown-link d-dropdown-link\",\n      href: \"#\",\n      onClick: this.showDrawer,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 311\n      },\n      __self: this\n    }, React.createElement(Icon, {\n      type: \"message\",\n      style: {\n        color: \"black\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 312\n      },\n      __self: this\n    })), React.createElement(Drawer, {\n      title: \"\",\n      placement: \"right\",\n      closable: false,\n      onClose: this.onClose,\n      visible: this.state.visible,\n      width: \"800px\",\n      className: \"drawer-chat\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 314\n      },\n      __self: this\n    }, React.createElement(ChartRoom, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 323\n      },\n      __self: this\n    })))))), React.createElement(Content, {\n      style: {\n        padding: 40,\n        minHeight: 280\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 393\n      },\n      __self: this\n    }, React.createElement(AppRouter, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 399\n      },\n      __self: this\n    }))));\n  }\n\n}\n\nPageLayout.getSelectedPictures = () => {\n  return PageLayout.state.profile_data;\n};\n\nexport default PageLayout;","map":{"version":3,"sources":["/home/user/Desktop/milonux-sq-dashboard-59aefe7abad7/src/Management/Layout/PageLayout.js"],"names":["React","Component","Layout","Menu","Dropdown","Icon","Button","Avatar","Drawer","Link","AppRouter","NotificationTab","Host","axios","firebase","ChartRoom","Header","Sider","Content","SubMenu","messageMenu","PageLayout","constructor","props","toggle","setState","collapsed","state","visible","showDrawer","onClose","handleSubmitLogout","e","userLogout","windowWidth","windowHeight","values","name","date","User_Name","User_Email","userRights","updateDimensions","bind","componentWillMount","profile_data","JSON","parse","sessionStorage","getItem","user_id","i","index","length","u_rights","type","menuList","toLowerCase","push","w","window","d","document","documentElement","body","getElementsByTagName","width","innerWidth","clientWidth","height","innerHeight","clientHeight","componentDidMount","addEventListener","componentWillUnmount","removeEventListener","database","ref","child","orderByChild","equalTo","on","snapshot","val","Object","forEach","data","record","key","today","Date","time","getHours","getMinutes","getSeconds","getFullYear","getMonth","getDate","update","user_status","render","userMenu","minWidth","padding","pathname","background","backgroundColor","map","value","linkName","menuName","color","minHeight","getSelectedPictures"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport { Layout, Menu, Dropdown, Icon, Button, Avatar, Drawer} from \"antd\";\nimport { Link } from \"react-router-dom\";\nimport AppRouter from \"../../router\";\nimport { NotificationTab } from \"../components/Header\";\nimport \"./PageLayout.scss\";\nimport { Host } from  \"../../Host\";\nimport axios from \"axios\";\nimport firebase from 'firebase';\nimport ChartRoom from \"./chart_room.js\"\n\nconst { Header, Sider, Content } = Layout;\nconst { SubMenu } = Menu;\n\n\n\nconst messageMenu = (\n  <Menu>\n    <Menu.Item>Message</Menu.Item>\n  </Menu>\n);\n\nclass PageLayout extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      collapsed: false,\n      windowWidth: '',\n      windowHeight: '',\n      values: [{ name: \"John Doe\", date: \"2017-09-15\" }],\n      User_Name:'',\n     User_Email:'',\n     userRights:[]\n    }\n    this.updateDimensions = this.updateDimensions.bind(this);\n  }\n\ncomponentWillMount() {\n     var profile_data = JSON.parse(sessionStorage.getItem(\"session_data\"));\n    if(profile_data != null){\n        this.setState({User_Name:profile_data['first_name'] + \"  \" + profile_data['last_name']});\n        this.setState({User_Email:profile_data['email']});\n        this.setState({user_id:profile_data['user_id']});\n        if(profile_data['user_rights'] !=''){\n          var i;\n          var userRights = []\n          var index = 7\n          for (var i=0; i <profile_data['user_rights'].length; i++){\n                index +=1\n                var u_rights = profile_data['user_rights'][i]\n                if(u_rights == 'Financial'){var type = 'transaction'}\n                if(u_rights == 'Operational'){var type = 'solution'}\n                if(u_rights == 'Management'){var type = 'home'}\n                var menuList= {'type':type,'menuName':u_rights, 'linkName':u_rights.toLowerCase() + '-charts' ,\n                             'index':index}\n                userRights.push(menuList)\n            }\n            this.setState({userRights:userRights})\n          }\n\n    }\n  }\n\n\nstatic getSelectedPictures = () => {\n      return this.state.profile_data;\n  }\n\n\n  updateDimensions() {\n    var w = window,\n      d = document,\n      documentElement = d.documentElement,\n      body = d.getElementsByTagName('body')[0],\n      width = w.innerWidth || documentElement.clientWidth || body.clientWidth,\n      height = w.innerHeight || documentElement.clientHeight || body.clientHeight;\n    this.setState({ windowWidth: width, windowHeight: height });\n    width <= 991 ? this.setState({ collapsed: true }) : this.setState({ collapsed: false })\n\n  }\n  componentDidMount() {\n    window.addEventListener(\"resize\", this.updateDimensions);\n  }\n  componentWillUnmount() {\n    window.removeEventListener(\"resize\", this.updateDimensions);\n  }\n\n\n  toggle = () => {\n    this.setState({\n      collapsed: !this.state.collapsed\n    });\n  };\n\n  state = { visible: false };\n\n  showDrawer = () => {\n    this.setState({\n      visible: true,\n    });\n  };\n\n  onClose = () => {\n    this.setState({\n      visible: false,\n    });\n  };\n\nhandleSubmitLogout = (e) => {\n    this.userLogout();\n};\n\n  async userLogout() {\n\n  firebase.database().ref().child('messages/' + 'users').orderByChild(\"user_Id\").equalTo(this.state.user_id)\n      .on(\"value\", function(snapshot) {\n          if (snapshot.val() != null){\n              if(Object.values(snapshot.val()).length >= 1){\n                snapshot.forEach(function(data) {\n                var record = data.val();\n                var key = data.key;\n                var today = new Date();\n                var time = today.getHours() + ':' + today.getMinutes() + ':' + today.getSeconds();\n                var date = today.getFullYear() + '-' + (today.getMonth() + 1) + '-' + today.getDate();\n                firebase.database().ref().child('messages/' + 'users/'+ key).update({ user_status: \"offline\", time:time });\n                });\n              }\n          }\n         else{\n\n         }\n    });\n}\n\n\n\n  render() {\n\n  const userMenu = (\n  <Menu style={{ minWidth: \"260px\" }} className=\"dropdown-menuuser\">\n    <Menu.Item style={{ padding: \"0\" }}>\n      <div className=\"usermenu-header\">\n        <div>\n          <div>\n            <Avatar src=\"https://zos.alipayobjects.com/rmsportal/ODTLcjxAfvqbxHnVXCYX.png\" />\n          </div>\n        </div>\n        <div>\n          <h6>{this.state.User_Name}</h6>\n          <span>{this.state.User_Email}</span>\n        </div>\n      </div>\n    </Menu.Item>\n    <Menu.Item>\n      <Link to={{ pathname: '/persoanl-account', data:this.state.profile_data}}> My Account</Link>\n    </Menu.Item>\n    <Menu.Item>\n      <Link to={{ pathname: '/add-user', data:this.state.profile_data}}>Add User</Link>\n    </Menu.Item>\n    <Menu.Item>\n      <Link to=\"\">Company Settings</Link>\n    </Menu.Item>\n    <Menu.Item>\n      <Link to=\"\">\n        <Button type=\"primary\" block onClick={this.handleSubmitLogout}>\n          Logout\n        </Button>\n      </Link>\n    </Menu.Item>\n  </Menu>\n);\n\n    return (\n      <Layout>\n        <Sider\n          trigger={null}\n          collapsible\n          collapsed={this.state.collapsed}\n          width={220}\n          className=\"mi-sidebar\" style={{ background: '#fff' }}\n          /* style={{\n            overflow: 'auto',\n            height: '100vh',\n            position: 'fixed',\n            left: 0,\n          }} */\n        >\n          <div className=\"navbar-logo\" style={{ backgroundColor: \"white\"}}>\n            <Link to=\"/personal-home\">\n              <img src=\"/assets/images/logo.png\" />\n            </Link>\n          </div>\n          <Menu theme=\"light\" mode=\"inline\" defaultSelectedKeys={[\"1\"]}>\n            <Menu.Item key=\"1\">\n              <Link to=\"/personal-home\">\n                <Icon type=\"dashboard\" />\n                <span>Dashboard</span>\n              </Link>\n            </Menu.Item>\n\n            {/*\n            <Menu.Item key=\"4\">\n              <Link to=\"/personal-operations\">\n                <Icon type=\"solution\" />\n                <span>Operations</span>\n              </Link>\n            </Menu.Item>\n            <Menu.Item key=\"5\">\n              <Link to=\"/personal-finance\">\n                <Icon type=\"transaction\" />\n                <span>Finance</span>\n              </Link>\n            </Menu.Item>\n            <Menu.Item key=\"6\">\n              <Link to=\"/personal-hr\">\n                <Icon type=\"audit\" />\n                <span>HR</span>\n              </Link>\n            </Menu.Item>\n            <Menu.Item key=\"7\">\n              <Link to=\"/personal-marketing\">\n                <Icon type=\"notification\" />\n                <span>Marketing</span>\n              </Link>\n            </Menu.Item> */}\n\n\n          { this.state.userRights.map((value, index) =>\n            <Menu.Item key={value.index}>\n              <Link to={value.linkName}>\n                <Icon type={value.type} />\n                <span>{value.menuName}</span>\n              </Link>\n            </Menu.Item>\n            )}\n\n            {/*\n             <Menu.Item key=\"14\">\n              <Link to=\"/dashboard\">\n                <Icon type=\"dashboard\" />\n                <span>Chart Dashboard</span>\n              </Link>\n            </Menu.Item>\n           */}\n\n            <Menu.Item key=\"11\">\n              <Link to=\"/personal-source\">\n                <Icon type=\"project\" />\n                <span>Source</span>\n              </Link>\n            </Menu.Item>\n            <Menu.Item key=\"12\">\n              <Link to=\"/personal-documents\">\n                <Icon type=\"file\" />\n                <span>Documents</span>\n              </Link>\n            </Menu.Item>\n            <SubMenu\n              key=\"sub4\"\n              title={\n                <span>\n                  <Icon type=\"setting\" />\n                  <span>Settings</span>\n                </span>\n              }\n            >\n              <Menu.Item key=\"10\">\n                <Link to='/persoanl-account'>My Account</Link>\n              </Menu.Item>\n              <Menu.Item key=\"11\">Company Settings</Menu.Item>\n            </SubMenu>\n          </Menu>\n        </Sider>\n        <Layout /* style={{ marginLeft: 220 }} */>\n          <Header className=\"mi-header\" style={{ /* position: 'fixed', zIndex: 1, width: '100%', */\n                                                       backgroundColor: \"white\", color:\"black\", padding: 0 }}>\n            <div className=\"header-block\">\n              <span className=\"header-trigger\">\n                <Icon\n                  style={{ color: \"black\"}}\n                  className=\"trigger\"\n                  type={this.state.collapsed ? \"menu-unfold\" : \"menu-fold\"}\n                  onClick={this.toggle}\n                />\n              </span>\n              <ul className=\"nav-actions\">\n                <li>\n                  <Dropdown\n                    overlay={<NotificationTab />}\n                    placement=\"bottomRight\"\n                    trigger={[\"click\"]}\n                    className=\"dropdown-notification\"\n                  >\n                    <a className=\"ant-dropdown-link d-dropdown-link\" href=\"#\">\n                      <Icon type=\"bell\"  style={{ color: \"black\"}} />\n                    </a>\n                  </Dropdown>\n                </li>\n                <li>\n                  <Dropdown\n                    overlay={userMenu}\n                    placement=\"bottomRight\"\n                    trigger={[\"click\"]}\n                  >\n                    <a className=\"ant-dropdown-link d-dropdown-link\" href=\"#\">\n                      <Icon type=\"user\"  style={{ color: \"black\"}} />\n                    </a>\n                  </Dropdown>\n                </li>\n               <li>\n                    <a className=\"ant-dropdown-link d-dropdown-link\" href=\"#\" onClick={this.showDrawer}>\n                      <Icon type=\"message\"  style={{ color: \"black\"}} />\n                    </a>\n                  <Drawer\n                    title=\"\"\n                    placement=\"right\"\n                    closable={false}\n                    onClose={this.onClose}\n                    visible={this.state.visible}\n                    width=\"800px\"\n                    className=\"drawer-chat\"\n                  >\n                      <ChartRoom />\n\n\n\n\n                    {/* <div className=\"chat-lists\">\n                      <div className=\"chat-item chat-left\">\n                        <div className=\"chat-media\">\n                          <div className=\"chat-media-icon\">\n                            <Icon type=\"user\" />\n                          </div>\n                        </div>\n                        <div className=\"chat-denote\">\n                          <div className=\"chat-message\">\n                            <div className=\"chat-text\">\n                              Hi, Received Msg\n                            </div>\n                          </div>\n                        </div>\n                      </div>\n\n                      <div className=\"chat-item chat-right\">\n                        <div className=\"chat-media\">\n                          <div className=\"chat-media-icon\">\n                            <Icon type=\"user\" />\n                          </div>\n                        </div>\n                        <div className=\"chat-denote\">\n                          <div className=\"chat-message\">\n                            <div className=\"chat-text\">\n                              Hello, Send Msg\n                            </div>\n                          </div>\n                        </div>\n                      </div>\n\n                      <div className=\"chat-item chat-right\">\n                        <div className=\"chat-media\">\n                          <div className=\"chat-media-icon\">\n                            <Icon type=\"user\" />\n                          </div>\n                        </div>\n                        <div className=\"chat-denote\">\n                          <div className=\"chat-message\">\n                            <div className=\"chat-text\">\n                              {this.state.sendMsg}\n                            </div>\n                          </div>\n                        </div>\n                      </div>\n\n\n                    </div>\n                    <div className=\"chat-input-wrap\">\n                      <div className=\"chat-input-group\">\n                        <Input size=\"large\" placeholder=\"Type your message here...\" />\n                        <span className=\"chat-input-appended\">\n                          <Button type=\"primary\" className=\"btn-chat-send\" onClick={this.sendMassage}>\n                            <img src=\"assets/images/paper-plane.png\" alt=\"\"/>\n                          </Button>\n                        </span>\n                      </div>\n                    </div>  */}\n\n\n                  </Drawer>\n                </li>\n              </ul>\n            </div>\n          </Header>\n          <Content\n            style={{\n              padding: 40,\n              minHeight: 280\n            }}\n          >\n            <AppRouter />\n\n\n\n          </Content>\n        </Layout>\n      </Layout>\n\n    );\n  }\n}\n\nexport default PageLayout;\n"]},"metadata":{},"sourceType":"module"}