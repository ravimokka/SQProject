{"ast":null,"code":"var _jsxFileName = \"/home/user/Desktop/milonux-sq-dashboard-59aefe7abad7/src/Personal/Layout/chart_room.js\";\nimport React, { Component, useState, useEffect } from \"react\";\nimport { Layout, Menu, Dropdown, Icon, Button, Avatar, Drawer, Input } from \"antd\";\nimport { Link } from \"react-router-dom\";\nimport AppRouter from \"../../router\";\nimport { NotificationTab } from \"../components/Header\";\nimport \"./PageLayout.scss\";\nimport ReactApexChart from 'react-apexcharts';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport $ from 'jquery';\nimport Popper from 'popper.js';\nimport 'bootstrap/dist/js/bootstrap.bundle.min';\nimport { isAbsolute } from \"path\";\nimport \"./chat.css\";\nimport axios from \"axios\";\nimport ChatHistory from \"./chat_history.js\";\nimport firebase from 'firebase';\nconst Config = {\n  apiKey: \"AIzaSyB5fOOl4b5DpbBhaeXAL-61qkpJoENQeTY\",\n  authDomain: \"sqd-project.firebaseapp.com\",\n  databaseURL: \"https://sqd-project.firebaseio.com\",\n  projectId: \"sqd-project\",\n  storageBucket: \"sqd-project.appspot.com\",\n  messagingSenderId: \"727802836038\",\n  appId: \"1:727802836038:web:44732927a6e01d5abdc647\",\n  measurementId: \"G-YVGMP4HC63\"\n};\nfirebase.initializeApp(Config);\n\nclass ChartRoom extends Component {\n  constructor(props) {\n    super(props);\n\n    this.selectUser = e => {\n      this.setState({\n        massage_box: true\n      });\n      this.setState({\n        select_username: e.target.innerText\n      });\n      this.setState({\n        select_username: e.target.textContent\n      });\n    };\n\n    this.sendMassage = e => {\n      alert(this.refs.msg.value);\n      this.setState({\n        sendMsg: 'test'\n      });\n    };\n\n    this.handleSendMassage = e => {\n      var newItem = {\n        userName: 'ravi',\n        message: 'mealso fine ',\n        send_id: 2,\n        rev_id: 1,\n        timestamp: firebase.database.ServerValue.TIMESTAMP\n      };\n      this.messageSend.push(newItem);\n      this.setState({\n        message: ''\n      });\n    };\n\n    this.state = {\n      online: false,\n      massage_box: false,\n      select_username: '',\n      user_list: [{\n        username: 'ravi'\n      }, {\n        username: 'vijay'\n      }, {\n        username: 'surya'\n      }, {\n        username: 'Anbu'\n      }],\n      send_list: [{\n        message: \"hi\",\n        rev_id: 2,\n        send_id: 1,\n        userName: \"Raveendra M\"\n      }, {\n        message: \"what\",\n        rev_id: 2,\n        send_id: 1,\n        userName: \"Raveendra M\"\n      }],\n      userName: 'Ravi',\n      send_msg_list: [],\n      received_list: [],\n      send_id: 1,\n      received_id: 2,\n      text: 'sqd_massages',\n      message: ''\n    };\n    this.messageSend = firebase.database().ref().child('messages/' + this.state.text);\n    this.listSendMessages();\n    this.messageReceived = firebase.database().ref().child('messages/' + this.state.text);\n    this.listReceivedMessages();\n  }\n\n  componentWillMount() {\n    this.loadAllUserList();\n  }\n\n  async loadAllUserList() {\n    const promise = await axios.post(Host.loginURL + \"/header_api\", {\n      Menu: Menu_Name\n    });\n    const status = promise.status;\n\n    if (status === 200) {\n      const data = promise.data.data;\n      console.log(data);\n      this.setState({\n        books: data\n      });\n    }\n  }\n\n  listSendMessages() {\n    this.messageSend.orderByChild(\"send_id\").equalTo(1).on(\"value\", message => {\n      console.log(message.val());\n\n      if (message.val() != null) {\n        this.setState({\n          send_msg_list: Object.values(message.val())\n        });\n      } else {\n        this.setState({\n          send_msg_list: []\n        });\n      }\n    });\n  }\n\n  listReceivedMessages() {\n    this.messageReceived.limitToLast(10).orderByChild(\"rev_id\").equalTo(1).on('value', message => {\n      if (message.val() != null) {\n        this.setState({\n          received_list: Object.values(message.val())\n        });\n      } else {\n        this.setState({\n          received_list: []\n        });\n      }\n    });\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      class: \"messaging\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      class: \"inbox_msg\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      class: \"inbox_people\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 140\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      class: \"headind_srch\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 141\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      class: \"recent_heading\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 142\n      },\n      __self: this\n    }, React.createElement(\"h4\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 143\n      },\n      __self: this\n    }, \"Recent\")), React.createElement(\"div\", {\n      class: \"srch_bar\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 145\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      class: \"stylish-input-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 146\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"text\",\n      class: \"search-bar\",\n      placeholder: \"Search\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 147\n      },\n      __self: this\n    })))), React.createElement(\"div\", {\n      class: \"inbox_chat scroll\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 154\n      },\n      __self: this\n    }, this.state.user_list.map((value, index) => React.createElement(\"div\", {\n      class: \"chat_list active_chat\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 156\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      class: \"chat_people\",\n      value: this.state.select_username,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 157\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      src: \"https://ptetutorials.com/images/user-profile.png\",\n      alt: \"sunil\",\n      class: \"chat_img\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 158\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      class: \"chat_ib\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 159\n      },\n      __self: this\n    }, React.createElement(\"h5\", {\n      key: index,\n      onClick: this.selectUser,\n      value: value.username,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 160\n      },\n      __self: this\n    }, value.username), \"  \", React.createElement(\"span\", {\n      class: \"chat_date\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 161\n      },\n      __self: this\n    }, \"Dec 25\"), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 162\n      },\n      __self: this\n    }, \"Test, which is a new approach to have all solutions astrology under one roof.\"))))))), React.createElement(\"div\", {\n      class: \"mesgs\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 206\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      class: \"alert alert-success  select_user\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 207\n      },\n      __self: this\n    }, React.createElement(\"strong\", {\n      style: {\n        marginLeft: \"19px\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 208\n      },\n      __self: this\n    }, this.state.select_username), React.createElement(\"img\", {\n      src: \"https://ptetutorials.com/images/user-profile.png\",\n      alt: \"sunil\",\n      class: \"hear_user\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 209\n      },\n      __self: this\n    })), this.state.massage_box == true ? React.createElement(\"div\", {\n      class: \"msg_history\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 212\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      class: \"incoming_msg\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 214\n      },\n      __self: this\n    }, this.state.received_list.map((value, index) => React.createElement(\"div\", {\n      class: \"received_msg\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 216\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      class: \"received_withd_msg\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 217\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      key: index,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 218\n      },\n      __self: this\n    }, value.message, \" \"), React.createElement(\"span\", {\n      class: \"time_date\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 219\n      },\n      __self: this\n    }, \" 11:01 AM    |    June 9\"))))), this.state.send_msg_list.map((value, index) => React.createElement(\"div\", {\n      class: \"outgoing_msg\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 226\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      class: \"sent_msg\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 227\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      key: index,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 228\n      },\n      __self: this\n    }, value.message, \" \"), React.createElement(\"span\", {\n      class: \"time_date\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 229\n      },\n      __self: this\n    }, \" 11:01 AM    |    June 9\"))))) : React.createElement(\"div\", {\n      class: \"msg_history\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 268\n      },\n      __self: this\n    }, \" welcome Massage Chatting\"), React.createElement(\"div\", {\n      class: \"type_msg\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 271\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      class: \"input_msg_write\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 272\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"text\",\n      ref: \"msg\",\n      class: \"write_msg\",\n      placeholder: \"Type a message\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 273\n      },\n      __self: this\n    }), React.createElement(\"button\", {\n      class: \"msg_send_btn\",\n      type: \"button\",\n      onClick: this.handleSendMassage,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 274\n      },\n      __self: this\n    }, React.createElement(\"i\", {\n      class: \"fa fa-paper-plane\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 275\n      },\n      __self: this\n    })))))));\n  }\n\n}\n\nexport default ChartRoom;","map":{"version":3,"sources":["/home/user/Desktop/milonux-sq-dashboard-59aefe7abad7/src/Personal/Layout/chart_room.js"],"names":["React","Component","useState","useEffect","Layout","Menu","Dropdown","Icon","Button","Avatar","Drawer","Input","Link","AppRouter","NotificationTab","ReactApexChart","$","Popper","isAbsolute","axios","ChatHistory","firebase","Config","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","initializeApp","ChartRoom","constructor","props","selectUser","e","setState","massage_box","select_username","target","innerText","textContent","sendMassage","alert","refs","msg","value","sendMsg","handleSendMassage","newItem","userName","message","send_id","rev_id","timestamp","database","ServerValue","TIMESTAMP","messageSend","push","state","online","user_list","username","send_list","send_msg_list","received_list","received_id","text","ref","child","listSendMessages","messageReceived","listReceivedMessages","componentWillMount","loadAllUserList","promise","post","Host","loginURL","Menu_Name","status","data","console","log","books","orderByChild","equalTo","on","val","Object","values","limitToLast","render","map","index","marginLeft"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,EAAqCC,SAArC,QAAuD,OAAvD;AACA,SAASC,MAAT,EAAiBC,IAAjB,EAAuBC,QAAvB,EAAiCC,IAAjC,EAAuCC,MAAvC,EAA+CC,MAA/C,EAAuDC,MAAvD,EAA+DC,KAA/D,QAA4E,MAA5E;AACA,SAASC,IAAT,QAAqB,kBAArB;AACA,OAAOC,SAAP,MAAsB,cAAtB;AACA,SAASC,eAAT,QAAgC,sBAAhC;AACA,OAAO,mBAAP;AACA,OAAOC,cAAP,MAA2B,kBAA3B;AACA,OAAO,sCAAP;AACA,OAAOC,CAAP,MAAc,QAAd;AACA,OAAOC,MAAP,MAAmB,WAAnB;AACA,OAAO,wCAAP;AACA,SAASC,UAAT,QAA2B,MAA3B;AACA,OAAO,YAAP;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAQC,WAAR,MAAyB,mBAAzB;AACA,OAAOC,QAAP,MAAqB,UAArB;AAEA,MAAMC,MAAM,GAAG;AACbC,EAAAA,MAAM,EAAE,yCADK;AAEbC,EAAAA,UAAU,EAAE,6BAFC;AAGbC,EAAAA,WAAW,EAAE,oCAHA;AAIbC,EAAAA,SAAS,EAAE,aAJE;AAKbC,EAAAA,aAAa,EAAE,yBALF;AAMbC,EAAAA,iBAAiB,EAAE,cANN;AAObC,EAAAA,KAAK,EAAE,2CAPM;AAQbC,EAAAA,aAAa,EAAE;AARF,CAAf;AAWAT,QAAQ,CAACU,aAAT,CAAuBT,MAAvB;;AAGA,MAAMU,SAAN,SAAwB/B,SAAxB,CAAkC;AAChCgC,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACjB,UAAMA,KAAN;;AADiB,SAyCrBC,UAzCqB,GAyCPC,CAAD,IAAO;AAChB,WAAKC,QAAL,CAAc;AAACC,QAAAA,WAAW,EAAC;AAAb,OAAd;AACA,WAAKD,QAAL,CAAc;AAACE,QAAAA,eAAe,EAACH,CAAC,CAACI,MAAF,CAASC;AAA1B,OAAd;AACA,WAAKJ,QAAL,CAAc;AAACE,QAAAA,eAAe,EAACH,CAAC,CAACI,MAAF,CAASE;AAA1B,OAAd;AACD,KA7CkB;;AAAA,SA+CrBC,WA/CqB,GA+CNP,CAAD,IAAO;AAChBQ,MAAAA,KAAK,CAAC,KAAKC,IAAL,CAAUC,GAAV,CAAcC,KAAf,CAAL;AACD,WAAKV,QAAL,CAAc;AACZW,QAAAA,OAAO,EAAE;AADG,OAAd;AAID,KArDkB;;AAAA,SAuDnBC,iBAvDmB,GAuDEb,CAAD,IAAO;AAEvB,UAAIc,OAAO,GAAG;AACZC,QAAAA,QAAQ,EAAC,MADG;AAEZC,QAAAA,OAAO,EAAC,cAFI;AAGZC,QAAAA,OAAO,EAAE,CAHG;AAIZC,QAAAA,MAAM,EAAE,CAJI;AAKZC,QAAAA,SAAS,EAAGlC,QAAQ,CAACmC,QAAT,CAAkBC,WAAlB,CAA8BC;AAL9B,OAAd;AAOA,WAAKC,WAAL,CAAiBC,IAAjB,CAAsBV,OAAtB;AACA,WAAKb,QAAL,CAAc;AAAEe,QAAAA,OAAO,EAAE;AAAX,OAAd;AACH,KAlEkB;;AAEjB,SAAKS,KAAL,GAAa;AACTC,MAAAA,MAAM,EAAC,KADE;AAETxB,MAAAA,WAAW,EAAC,KAFH;AAGTC,MAAAA,eAAe,EAAC,EAHP;AAITwB,MAAAA,SAAS,EAAC,CAAC;AAACC,QAAAA,QAAQ,EAAC;AAAV,OAAD,EAAmB;AAACA,QAAAA,QAAQ,EAAC;AAAV,OAAnB,EAAsC;AAACA,QAAAA,QAAQ,EAAC;AAAV,OAAtC,EAAyD;AAACA,QAAAA,QAAQ,EAAC;AAAV,OAAzD,CAJD;AAKTC,MAAAA,SAAS,EAAC,CAAC;AAACb,QAAAA,OAAO,EAAE,IAAV;AAAgBE,QAAAA,MAAM,EAAE,CAAxB;AAA2BD,QAAAA,OAAO,EAAE,CAApC;AAAuCF,QAAAA,QAAQ,EAAE;AAAjD,OAAD,EACV;AAACC,QAAAA,OAAO,EAAE,MAAV;AAAkBE,QAAAA,MAAM,EAAE,CAA1B;AAA6BD,QAAAA,OAAO,EAAE,CAAtC;AAAyCF,QAAAA,QAAQ,EAAE;AAAnD,OADU,CALD;AAOTA,MAAAA,QAAQ,EAAC,MAPA;AAQTe,MAAAA,aAAa,EAAC,EARL;AASTC,MAAAA,aAAa,EAAC,EATL;AAUTd,MAAAA,OAAO,EAAC,CAVC;AAWTe,MAAAA,WAAW,EAAC,CAXH;AAYTC,MAAAA,IAAI,EAAC,cAZI;AAaTjB,MAAAA,OAAO,EAAC;AAbC,KAAb;AAeA,SAAKO,WAAL,GAAmBtC,QAAQ,CAACmC,QAAT,GAAoBc,GAApB,GAA0BC,KAA1B,CAAgC,cAAc,KAAKV,KAAL,CAAWQ,IAAzD,CAAnB;AACA,SAAKG,gBAAL;AAEA,SAAKC,eAAL,GAAuBpD,QAAQ,CAACmC,QAAT,GAAoBc,GAApB,GAA0BC,KAA1B,CAAgC,cAAc,KAAKV,KAAL,CAAWQ,IAAzD,CAAvB;AACA,SAAKK,oBAAL;AAED;;AAEHC,EAAAA,kBAAkB,GAAG;AACnB,SAAKC,eAAL;AACD;;AAED,QAAMA,eAAN,GACE;AACE,UAAMC,OAAO,GAAG,MAAM1D,KAAK,CAAC2D,IAAN,CAAWC,IAAI,CAACC,QAAL,GAAe,aAA1B,EAAyC;AAAC3E,MAAAA,IAAI,EAAC4E;AAAN,KAAzC,CAAtB;AACA,UAAMC,MAAM,GAAGL,OAAO,CAACK,MAAvB;;AACA,QAAGA,MAAM,KAAG,GAAZ,EACA;AACE,YAAMC,IAAI,GAAGN,OAAO,CAACM,IAAR,CAAaA,IAA1B;AACAC,MAAAA,OAAO,CAACC,GAAR,CAAYF,IAAZ;AACA,WAAK9C,QAAL,CAAc;AAACiD,QAAAA,KAAK,EAACH;AAAP,OAAd;AACD;AACF;;AA8BHX,EAAAA,gBAAgB,GAAG;AACf,SAAKb,WAAL,CAAiB4B,YAAjB,CAA8B,SAA9B,EAAyCC,OAAzC,CAAiD,CAAjD,EAAoDC,EAApD,CAAuD,OAAvD,EAAiErC,OAAD,IAAa;AAE7EgC,MAAAA,OAAO,CAACC,GAAR,CAAYjC,OAAO,CAACsC,GAAR,EAAZ;;AACA,UAAKtC,OAAO,CAACsC,GAAR,MAAiB,IAAtB,EAA2B;AACvB,aAAKrD,QAAL,CAAc;AAAC6B,UAAAA,aAAa,EAACyB,MAAM,CAACC,MAAP,CAAcxC,OAAO,CAACsC,GAAR,EAAd;AAAf,SAAd;AACH,OAFD,MAGI;AACA,aAAKrD,QAAL,CAAc;AAAE6B,UAAAA,aAAa,EAAC;AAAhB,SAAd;AACH;AACJ,KATG;AAUH;;AAEDQ,EAAAA,oBAAoB,GAAG;AACnB,SAAKD,eAAL,CACGoB,WADH,CACe,EADf,EACmBN,YADnB,CACgC,QADhC,EAC0CC,OAD1C,CACkD,CADlD,EAEGC,EAFH,CAEM,OAFN,EAEerC,OAAO,IAAI;AACvB,UAAKA,OAAO,CAACsC,GAAR,MAAiB,IAAtB,EAA2B;AAE3B,aAAKrD,QAAL,CAAc;AACX8B,UAAAA,aAAa,EAAEwB,MAAM,CAACC,MAAP,CAAcxC,OAAO,CAACsC,GAAR,EAAd;AADJ,SAAd;AAGC,OALD,MAMI;AACL,aAAKrD,QAAL,CAAc;AACV8B,UAAAA,aAAa,EAAC;AADJ,SAAd;AAEE;AACH,KAbD;AAcH;;AAKC2B,EAAAA,MAAM,GAAG;AAEP,WACA;AAAK,MAAA,KAAK,EAAC,WAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAK,MAAA,KAAK,EAAC,WAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAK,MAAA,KAAK,EAAC,cAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACL;AAAK,MAAA,KAAK,EAAC,cAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACD;AAAK,MAAA,KAAK,EAAC,gBAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADF,CADC,EAID;AAAK,MAAA,KAAK,EAAC,UAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAK,MAAA,KAAK,EAAC,qBAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACD;AAAO,MAAA,IAAI,EAAC,MAAZ;AAAmB,MAAA,KAAK,EAAC,YAAzB;AAAuC,MAAA,WAAW,EAAC,QAAnD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADC,CADF,CAJC,CADK,EAcL;AAAK,MAAA,KAAK,EAAC,mBAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,KAAKjC,KAAL,CAAWE,SAAX,CAAqBgC,GAArB,CAAyB,CAAChD,KAAD,EAAQiD,KAAR,KAC5B;AAAK,MAAA,KAAK,EAAC,uBAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAK,MAAA,KAAK,EAAC,aAAX;AAAyB,MAAA,KAAK,EAAE,KAAKnC,KAAL,CAAWtB,eAA3C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACQ;AAAK,MAAA,GAAG,EAAC,kDAAT;AAA4D,MAAA,GAAG,EAAC,OAAhE;AAAwE,MAAA,KAAK,EAAC,UAA9E;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADR,EAED;AAAK,MAAA,KAAK,EAAC,SAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAI,MAAA,GAAG,EAAEyD,KAAT;AAAiB,MAAA,OAAO,EAAE,KAAK7D,UAA/B;AAA2C,MAAA,KAAK,EAAEY,KAAK,CAACiB,QAAxD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAmEjB,KAAK,CAACiB,QAAzE,CADF,QAEU;AAAM,MAAA,KAAK,EAAC,WAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAFV,EAGE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uFAHF,CAFC,CADF,CADG,CADF,CAdK,CADF,EAmEE;AAAK,MAAA,KAAK,EAAC,OAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACA;AAAK,MAAA,KAAK,EAAC,kCAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAQ,MAAA,KAAK,EAAE;AAACiC,QAAAA,UAAU,EAAC;AAAZ,OAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAqC,KAAKpC,KAAL,CAAWtB,eAAhD,CADF,EAEC;AAAK,MAAA,GAAG,EAAC,kDAAT;AAA4D,MAAA,GAAG,EAAC,OAAhE;AAAwE,MAAA,KAAK,EAAC,WAA9E;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFD,CADA,EAKC,KAAKsB,KAAL,CAAWvB,WAAX,IAA0B,IAA1B,GACC;AAAK,MAAA,KAAK,EAAC,aAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAEQ;AAAK,MAAA,KAAK,EAAC,cAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACS,KAAKuB,KAAL,CAAWM,aAAX,CAAyB4B,GAAzB,CAA6B,CAAChD,KAAD,EAAQiD,KAAR,KAC9B;AAAK,MAAA,KAAK,EAAC,cAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAK,MAAA,KAAK,EAAC,oBAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAG,MAAA,GAAG,EAAEA,KAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAgBjD,KAAK,CAACK,OAAtB,MADJ,EAEE;AAAM,MAAA,KAAK,EAAC,WAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kCAFF,CADF,CADC,CADT,CAFR,EAaW,KAAKS,KAAL,CAAWK,aAAX,CAAyB6B,GAAzB,CAA6B,CAAChD,KAAD,EAAQiD,KAAR,KAC9B;AAAK,MAAA,KAAK,EAAC,cAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAK,MAAA,KAAK,EAAC,UAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAG,MAAA,GAAG,EAAEA,KAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAgBjD,KAAK,CAACK,OAAtB,MADF,EAEE;AAAM,MAAA,KAAK,EAAC,WAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kCAFF,CADF,CADC,CAbX,CADD,GAyDQ;AAAK,MAAA,KAAK,EAAC,aAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mCA9DT,EAiEE;AAAK,MAAA,KAAK,EAAC,UAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAK,MAAA,KAAK,EAAC,iBAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAO,MAAA,IAAI,EAAC,MAAZ;AAAoB,MAAA,GAAG,EAAC,KAAxB;AAA8B,MAAA,KAAK,EAAC,WAApC;AAAgD,MAAA,WAAW,EAAC,gBAA5D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,EAEE;AAAQ,MAAA,KAAK,EAAC,cAAd;AAA6B,MAAA,IAAI,EAAC,QAAlC;AAA2C,MAAA,OAAO,EAAE,KAAKH,iBAAzD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACsB;AAAG,MAAA,KAAK,EAAC,mBAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADtB,CAFF,CADF,CAjEF,CAnEF,CADF,CADA;AAmJD;;AA5P+B;;AA+PlC,eAAejB,SAAf","sourcesContent":["import React, { Component, useState, useEffect }  from \"react\";\nimport { Layout, Menu, Dropdown, Icon, Button, Avatar, Drawer, Input } from \"antd\";\nimport { Link } from \"react-router-dom\";\nimport AppRouter from \"../../router\";\nimport { NotificationTab } from \"../components/Header\";\nimport \"./PageLayout.scss\";\nimport ReactApexChart from 'react-apexcharts'\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport $ from 'jquery';\nimport Popper from 'popper.js';\nimport 'bootstrap/dist/js/bootstrap.bundle.min';\nimport { isAbsolute } from \"path\";\nimport \"./chat.css\"\nimport axios from \"axios\";\nimport  ChatHistory from \"./chat_history.js\"\nimport firebase from 'firebase';\n\nconst Config = {\n  apiKey: \"AIzaSyB5fOOl4b5DpbBhaeXAL-61qkpJoENQeTY\",\n  authDomain: \"sqd-project.firebaseapp.com\",\n  databaseURL: \"https://sqd-project.firebaseio.com\",\n  projectId: \"sqd-project\",\n  storageBucket: \"sqd-project.appspot.com\",\n  messagingSenderId: \"727802836038\",\n  appId: \"1:727802836038:web:44732927a6e01d5abdc647\",\n  measurementId: \"G-YVGMP4HC63\"\n};\n\nfirebase.initializeApp(Config);\n\n\nclass ChartRoom extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n        online:false,\n        massage_box:false,\n        select_username:'',\n        user_list:[{username:'ravi'},{username:'vijay'},{username:'surya'},{username:'Anbu'}],\n        send_list:[{message: \"hi\", rev_id: 2, send_id: 1, userName: \"Raveendra M\"},\n        {message: \"what\", rev_id: 2, send_id: 1, userName: \"Raveendra M\"}],\n        userName:'Ravi',\n        send_msg_list:[],\n        received_list:[],\n        send_id:1,\n        received_id:2,\n        text:'sqd_massages',\n        message:'',\n    }\n    this.messageSend = firebase.database().ref().child('messages/' + this.state.text);\n    this.listSendMessages();\n\n    this.messageReceived = firebase.database().ref().child('messages/' + this.state.text);\n    this.listReceivedMessages();\n\n  }\n\ncomponentWillMount() {\n  this.loadAllUserList()\n}\n\nasync loadAllUserList()\n  {\n    const promise = await axios.post(Host.loginURL +\"/header_api\", {Menu:Menu_Name});\n    const status = promise.status;\n    if(status===200)\n    {\n      const data = promise.data.data;\n      console.log(data);\n      this.setState({books:data});\n    }\n  }\n\nselectUser = (e) => {\n    this.setState({massage_box:true});\n    this.setState({select_username:e.target.innerText});\n    this.setState({select_username:e.target.textContent});\n  };\n\nsendMassage = (e) => {\n     alert(this.refs.msg.value)\n    this.setState({\n      sendMsg: 'test',\n    });\n\n  };\n\n  handleSendMassage = (e) => {\n\n      var newItem = {\n        userName:'ravi',\n        message:'mealso fine ',\n        send_id: 2,\n        rev_id: 1,\n        timestamp : firebase.database.ServerValue.TIMESTAMP\n      }\n      this.messageSend.push(newItem);\n      this.setState({ message: '' });\n  }\n\n\nlistSendMessages() {\n    this.messageSend.orderByChild(\"send_id\").equalTo(1).on(\"value\", (message) => {\n\n    console.log(message.val());\n    if ( message.val() != null){\n        this.setState({send_msg_list:Object.values(message.val()),});\n    }\n    else{\n        this.setState({ send_msg_list:[]});\n    }\n});\n}\n\nlistReceivedMessages() {\n    this.messageReceived\n      .limitToLast(10).orderByChild(\"rev_id\").equalTo(1)\n      .on('value', message => {\n       if ( message.val() != null){\n\n       this.setState({\n          received_list: Object.values(message.val()),\n        });\n       }\n       else{\n      this.setState({\n          received_list:[]});\n       }\n    });\n}\n\n\n\n\n  render() {\n\n    return (\n    <div class=\"messaging\">\n      <div class=\"inbox_msg\">\n        <div class=\"inbox_people\">\n\t  <div class=\"headind_srch\">\n\t\t<div class=\"recent_heading\">\n\t\t  <h4>Recent</h4>\n\t\t</div>\n\t\t<div class=\"srch_bar\">\n\t\t  <div class=\"stylish-input-group\">\n\t\t\t<input type=\"text\" class=\"search-bar\"  placeholder=\"Search\"  / >\n\t\t\t</div>\n\t\t</div>\n\t  </div>\n\n\n\n\t  <div class=\"inbox_chat scroll\">\n\t  { this.state.user_list.map((value, index) =>\n\t\t<div class=\"chat_list active_chat\" >\n\t\t  <div class=\"chat_people\" value={this.state.select_username}>\n            <img src=\"https://ptetutorials.com/images/user-profile.png\" alt=\"sunil\" class=\"chat_img\" />\n\t\t\t<div class=\"chat_ib\">\n\t\t\t  <h5 key={index}  onClick={this.selectUser} value={value.username}>{value.username}\n\t\t\t   </h5>  <span class=\"chat_date\">Dec 25</span>\n\t\t\t  <p>Test, which is a new approach to have all solutions\n\t\t\t\tastrology under one roof.</p>\n\t\t\t</div>\n\t\t  </div>\n\t\t</div>\n        )}\n\n\n\n\t\t{/*\n\t\t<div class=\"chat_list\">\n\t\t  <div class=\"chat_people\">\n          <img src=\"https://ptetutorials.com/images/user-profile.png\" alt=\"sunil\" class=\"chat_img\" />\n\t\t\t<div class=\"chat_ib\">\n\t\t\t  <h5>Surya<span class=\"chat_date\">Dec 25</span></h5>\n\t\t\t  <p>Test, which is a new approach to have all solutions\n\t\t\t\tastrology under one roof.</p>\n\t\t\t</div>\n\t\t  </div>\n\t\t</div>\n\t\t<div class=\"chat_list\">\n\t\t  <div class=\"chat_people\">\n          <img src=\"https://ptetutorials.com/images/user-profile.png\" alt=\"sunil\" class=\"chat_img\" />\n\t\t\t<div class=\"chat_ib\">\n\t\t\t  <h5>Anbu Deva<span class=\"chat_date\">Dec 25</span></h5>\n\t\t\t  <p>Test, which is a new approach to have all solutions\n\t\t\t\tastrology under one roof.</p>\n\t\t\t</div>\n\t\t  </div>\n\t\t</div>\n\t\t<div class=\"chat_list\">\n\t\t  <div class=\"chat_people\">\n          <img src=\"https://ptetutorials.com/images/user-profile.png\" alt=\"sunil\" class=\"chat_img\" />\n\t\t\t<div class=\"chat_ib\">\n\t\t\t  <h5>Vijay<span class=\"chat_date\">Dec 25</span></h5>\n\t\t\t  <p>Test, which is a new approach to have all solutions\n\t\t\t\tastrology under one roof.</p>\n\t\t\t</div>\n\t\t  </div>\n\t\t</div> */}\n\n\t  </div>\n\t</div>\n\n        <div class=\"mesgs\">\n        <div class=\"alert alert-success  select_user\">\n          <strong style={{marginLeft:\"19px\"}}>{this.state.select_username}</strong >\n         <img src=\"https://ptetutorials.com/images/user-profile.png\" alt=\"sunil\" class=\"hear_user\" />\n          </div>\n        {this.state.massage_box == true?\n          <div class=\"msg_history\">\n\n                  <div class=\"incoming_msg\">\n                         { this.state.received_list.map((value, index) =>\n                          <div class=\"received_msg\">\n                            <div class=\"received_withd_msg\">\n                                <p key={index}>{value.message} </p>\n                              <span class=\"time_date\"> 11:01 AM    |    June 9</span>\n                              </div>\n                          </div>\n                          )}\n                        </div>\n\n                   { this.state.send_msg_list.map((value, index) =>\n                    <div class=\"outgoing_msg\">\n                      <div class=\"sent_msg\">\n                        <p key={index}>{value.message} </p>\n                        <span class=\"time_date\"> 11:01 AM    |    June 9</span>\n                        </div>\n                    </div>\n                    )}\n                        {/*  <div class=\"incoming_msg\">\n                         <img src=\"https://ptetutorials.com/images/user-profile.png\" alt=\"sunil\" class=\"incoming_msg_img\" />\n                          <div class=\"received_msg\">\n                            <div class=\"received_withd_msg\">\n                              <p>Test which is a new approach to have all\n                                solutions</p>\n                              <span class=\"time_date\"> 11:01 AM    |    June 9</span></div>\n                          </div>\n                        </div>\n                    <div class=\"outgoing_msg\">\n                      <div class=\"sent_msg\">\n                        <p>Test which is a new approach to have all\n                          solutions</p>\n                        <span class=\"time_date\"> 11:01 AM    |    June 9</span> </div>\n                    </div>\n                    <div class=\"incoming_msg\">\n                      <img src=\"https://ptetutorials.com/images/user-profile.png\" alt=\"sunil\" class=\"incoming_msg_img\" />\n                      <div class=\"received_msg\">\n                        <div class=\"received_withd_msg\">\n                          <p>Test, which is a new approach to have</p>\n                          <span class=\"time_date\"> 11:01 AM    |    Yesterday</span></div>\n                      </div>\n                    </div>\n                    <div class=\"outgoing_msg\">\n                      <div class=\"sent_msg\">\n                        <p>Apollo University, Delhi, India Test</p>\n                        <span class=\"time_date\"> 11:01 AM    |    Today</span> </div>\n                    </div>\n\n                    <div class=\"outgoing_msg\">\n                      <div class=\"sent_msg\">\n                        <p>{this.state.sendMsg}</p>\n                        <span class=\"time_date\"> 11:01 AM    |    Today</span> </div>\n                    </div>  */}\n\n          </div>:<div class=\"msg_history\"> welcome Massage Chatting</div>\n          }\n\n          <div class=\"type_msg\">\n            <div class=\"input_msg_write\">\n              <input type=\"text\"  ref='msg' class=\"write_msg\" placeholder=\"Type a message\" />\n              <button class=\"msg_send_btn\" type=\"button\" onClick={this.handleSendMassage}>\n                                    <i class=\"fa fa-paper-plane\"></i></button>\n            </div>\n          </div>\n\n        </div>\n  </div>\n</div>\n\n    );\n  }\n}\n\nexport default ChartRoom;\n"]},"metadata":{},"sourceType":"module"}