{"ast":null,"code":"var _jsxFileName = \"/home/user/Desktop/milonux-sq-dashboard-59aefe7abad7/src/Auth/Login.js\";\nimport React, { Component } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { Form, Icon, Input, Button, Checkbox } from \"antd\";\nimport { Host } from \"../Host\";\nimport axios from \"axios\";\nimport firebase from 'firebase';\nconst FormItem = Form.Item;\nconst Config_login = {\n  apiKey: \"AIzaSyB5fOOl4b5DpbBhaeXAL-61qkpJoENQeTY\",\n  authDomain: \"sqd-project.firebaseapp.com\",\n  databaseURL: \"https://sqd-project.firebaseio.com\",\n  projectId: \"sqd-project\",\n  storageBucket: \"sqd-project.appspot.com\",\n  messagingSenderId: \"727802836038\",\n  appId: \"1:727802836038:web:44732927a6e01d5abdc647\",\n  measurementId: \"G-YVGMP4HC63\"\n};\nfirebase.initializeApp(Config_login);\n\nclass LoginForm extends Component {\n  constructor(props) {\n    super(props);\n\n    this.myChangeHandler = event => {\n      let nam = event.target.name;\n      let val = event.target.value;\n      let msg = ''; //    if (nam === \"age\") {\n      //      if (val !=\"\" && !Number(val)) {\n      //        err = <strong>Your age must be a number</strong>;\n      //      }\n      //    }\n      //    this.setState({errormessage: err});\n\n      this.setState({\n        [nam]: val\n      });\n    };\n\n    this.handleSubmit = e => {\n      e.preventDefault();\n      this.props.form.validateFields((err, values) => {\n        const username = this.state.username;\n        const password = this.state.password;\n\n        if (username == '') {\n          return false;\n        } else if (password == '') {\n          return false;\n        } else {\n          this.LoginAPI();\n          this.multiUserLoginDelete();\n          this.userLoginAPI();\n        }\n      });\n    };\n\n    this.state = {\n      username: '',\n      password: '',\n      errormessage: '',\n      text: 'users',\n      user_id: 1,\n      user_name: 'ravi',\n      user_status: 'online'\n    };\n    this.usersLoginStatus = firebase.database().ref().child('messages/' + this.state.text);\n  }\n\n  async userLoginAPI() {\n    var newItem = {\n      user_Id: this.state.user_id,\n      user_name: this.state.user_name,\n      user_status: this.state.user_status,\n      timestamp: firebase.database.ServerValue.TIMESTAMP\n    };\n    this.usersLoginStatus.push(newItem);\n  }\n\n  async multiUserLoginDelete() {\n    this.usersLoginStatus.orderByChild(\"user_Id\").equalTo(1).on('value', message => {\n      if (message.val() != null) {\n        var i;\n        var rev_list = Object.values(message.val());\n        console.log(rev_list);\n\n        for (i = 0; i < Object.keys(rev_list).length; i++) {\n          var re_data = rev_list[i];\n        }\n      } else {\n        return false;\n      }\n    });\n  }\n\n  async LoginAPI() {\n    const headers = new Headers();\n    headers.append('Content-Type', 'application/json');\n    var payload = {\n      \"username\": this.state.username,\n      \"password\": this.state.password\n    };\n\n    try {\n      const promise = await axios.post(Host.loginURL + \"/login_api\", payload);\n      this.props.history.push(\"/workspace\");\n      const session_data = promise.data.data;\n      sessionStorage.setItem(\"session_data\", JSON.stringify(session_data));\n    } catch (err) {\n      this.setState({\n        msg: \"Username & Password is Invalid\"\n      });\n    } //  this.setState({msg: \"Username & Password is Invalid\"});\n\n  }\n\n  render() {\n    localStorage.clear();\n    const getFieldDecorator = this.props.form.getFieldDecorator;\n    return React.createElement(\"div\", {\n      className: \"login-form-container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 128\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"header-login\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"login-logo\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      src: \"/assets/images/logo-white.png\",\n      alt: \"SQ\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131\n      },\n      __self: this\n    }))), React.createElement(\"div\", {\n      className: \"login-row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"login-cell cell-login-hero\",\n      style: {\n        backgroundImage: 'url(/assets/images/login-bg.jpg)'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"login-cell-block\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"login-cell-content\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"login-hero-content\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138\n      },\n      __self: this\n    }, React.createElement(\"h1\", {\n      className: \"login-heading\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139\n      },\n      __self: this\n    }, \"Welcome to SQ\"), React.createElement(\"div\", {\n      className: \"login-subheading\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 140\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 141\n      },\n      __self: this\n    }, \"This is the new face of SQ. New look, new ideas, same core\")), React.createElement(\"div\", {\n      className: \"website-link\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 145\n      },\n      __self: this\n    }, React.createElement(Link, {\n      to: \"http://webmamu.com/static/qcn/\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 146\n      },\n      __self: this\n    }, \"www.sqgc.com/\")))))), React.createElement(\"div\", {\n      className: \"login-cell cell-login-form\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 152\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"bg-image-mobile\",\n      style: {\n        backgroundImage: 'url(/assets/images/login-bg.jpg)'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 153\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"login-cell-block\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 154\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"login-logo text-center\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 155\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      src: \"/assets/images/logo-white.png\",\n      alt: \"SQ\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 156\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"logo-with-form login-cell-content\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 158\n      },\n      __self: this\n    }, React.createElement(\"h4\", {\n      className: \"mb-3\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 159\n      },\n      __self: this\n    }, \"Login with SQ\"), React.createElement(Form, {\n      onSubmit: this.handleSubmit,\n      className: \"login-form\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 160\n      },\n      __self: this\n    }, React.createElement(FormItem, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 161\n      },\n      __self: this\n    }, getFieldDecorator(\"userName\", {\n      rules: [{\n        required: true,\n        message: \"Please input your Username!\"\n      }]\n    })(React.createElement(Input, {\n      refs: \"u_name\",\n      name: \"username\",\n      onChange: this.myChangeHandler,\n      size: \"large\",\n      prefix: React.createElement(Icon, {\n        type: \"user\",\n        style: {\n          color: \"rgba(0,0,0,.25)\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 171\n        },\n        __self: this\n      }),\n      placeholder: \"Username\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 171\n      },\n      __self: this\n    }))), React.createElement(FormItem, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 176\n      },\n      __self: this\n    }, getFieldDecorator(\"password\", {\n      rules: [{\n        required: true,\n        message: \"Please input your Password!\"\n      }]\n    })(React.createElement(Input, {\n      refs: \"u_pass\",\n      name: \"password\",\n      onChange: this.myChangeHandler,\n      size: \"large\",\n      prefix: React.createElement(Icon, {\n        type: \"lock\",\n        style: {\n          color: \"rgba(0,0,0,.25)\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 188\n        },\n        __self: this\n      }),\n      type: \"password\",\n      placeholder: \"Password\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 185\n      },\n      __self: this\n    }))), React.createElement(FormItem, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 198\n      },\n      __self: this\n    }, React.createElement(\"ul\", {\n      className: \"login-meta\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 199\n      },\n      __self: this\n    }, React.createElement(\"li\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 200\n      },\n      __self: this\n    }, React.createElement(Link, {\n      to: \"/forgot-password\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 201\n      },\n      __self: this\n    }, \"Forgot password ?\")), React.createElement(\"li\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 205\n      },\n      __self: this\n    }, React.createElement(Checkbox, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 206\n      },\n      __self: this\n    }, \"Remember Me\")))), React.createElement(FormItem, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 210\n      },\n      __self: this\n    }, React.createElement(Button, {\n      type: \"primary\",\n      htmlType: \"submit\",\n      size: \"large\",\n      className: \"login-form-button\",\n      style: {\n        width: \"100%\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 211\n      },\n      __self: this\n    }, \"Log in\")), React.createElement(FormItem, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 221\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      style: {\n        color: \"red\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 222\n      },\n      __self: this\n    }, this.state.msg))), React.createElement(\"div\", {\n      className: \"not-user\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 226\n      },\n      __self: this\n    }, \"New User? \", React.createElement(Link, {\n      to: \"/signup-page\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 227\n      },\n      __self: this\n    }, \"Signup\")))))));\n  }\n\n}\n\nconst WrappedLoginForm = Form.create()(LoginForm);\nexport default WrappedLoginForm;","map":{"version":3,"sources":["/home/user/Desktop/milonux-sq-dashboard-59aefe7abad7/src/Auth/Login.js"],"names":["React","Component","Link","Form","Icon","Input","Button","Checkbox","Host","axios","firebase","FormItem","Item","Config_login","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","initializeApp","LoginForm","constructor","props","myChangeHandler","event","nam","target","name","val","value","msg","setState","handleSubmit","e","preventDefault","form","validateFields","err","values","username","state","password","LoginAPI","multiUserLoginDelete","userLoginAPI","errormessage","text","user_id","user_name","user_status","usersLoginStatus","database","ref","child","newItem","user_Id","timestamp","ServerValue","TIMESTAMP","push","orderByChild","equalTo","on","message","i","rev_list","Object","console","log","keys","length","re_data","headers","Headers","append","payload","promise","post","loginURL","history","session_data","data","sessionStorage","setItem","JSON","stringify","render","localStorage","clear","getFieldDecorator","backgroundImage","rules","required","color","width","WrappedLoginForm","create"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { Form, Icon, Input, Button, Checkbox } from \"antd\";\nimport { Host } from  \"../Host\";\nimport axios from \"axios\";\nimport firebase from 'firebase';\nconst FormItem = Form.Item;\n\n\n\nconst Config_login = {\n  apiKey: \"AIzaSyB5fOOl4b5DpbBhaeXAL-61qkpJoENQeTY\",\n  authDomain: \"sqd-project.firebaseapp.com\",\n  databaseURL: \"https://sqd-project.firebaseio.com\",\n  projectId: \"sqd-project\",\n  storageBucket: \"sqd-project.appspot.com\",\n  messagingSenderId: \"727802836038\",\n  appId: \"1:727802836038:web:44732927a6e01d5abdc647\",\n  measurementId: \"G-YVGMP4HC63\"\n};\nfirebase.initializeApp(Config_login);\n\n\n\n\nclass LoginForm extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      username: '',\n      password: '',\n      errormessage: '',\n      text:'users',\n      user_id:1,\n      user_name:'ravi',\n      user_status:'online'\n\n\n    };\n  this.usersLoginStatus = firebase.database().ref().child('messages/' + this.state.text);\n  }\n\n  myChangeHandler = (event) => {\n    let nam = event.target.name;\n    let val = event.target.value;\n    let msg = '';\n//    if (nam === \"age\") {\n//      if (val !=\"\" && !Number(val)) {\n//        err = <strong>Your age must be a number</strong>;\n//      }\n//    }\n//    this.setState({errormessage: err});\n    this.setState({[nam]: val});\n  }\n\n\n  handleSubmit = (e) => {\n    e.preventDefault();\n    this.props.form.validateFields((err, values) => {\n    const username = this.state.username;\n    const password= this.state.password;\n    if(username == ''){\n     return false\n    }\n    else if(password == ''){\n     return false\n    }\n    else{\n        this.LoginAPI();\n        this.multiUserLoginDelete();\n        this.userLoginAPI();\n\n    }\n    });\n};\n\n  async userLoginAPI(){\n    var newItem = {\n        user_Id:this.state.user_id,\n        user_name:this.state.user_name,\n        user_status:this.state.user_status,\n        timestamp : firebase.database.ServerValue.TIMESTAMP\n      }\n    this.usersLoginStatus.push(newItem);\n }\n\n  async multiUserLoginDelete() {\n    this.usersLoginStatus.orderByChild(\"user_Id\").equalTo(1)\n      .on('value', message => {\n       if ( message.val() != null){\n          var i;\n          var rev_list = Object.values(message.val());\n          console.log(rev_list)\n          for (i = 0; i < Object.keys(rev_list).length; i++) {\n            var re_data = rev_list[i]\n\n        }\n\n       }\n       else{\n        return false;\n       }\n    });\n}\n\n\n  async LoginAPI(){\n    const headers  = new Headers()\n    headers.append('Content-Type', 'application/json');\n    var payload={\n        \"username\":this.state.username,\n        \"password\":this.state.password\n    }\n\n    try{\n     const promise = await axios.post(Host.loginURL+\"/login_api\", payload);\n     this.props.history.push(\"/workspace\");\n     const session_data = promise.data.data;\n     sessionStorage.setItem(\"session_data\",JSON.stringify(session_data));\n  }\n  catch(err){this.setState({msg: \"Username & Password is Invalid\"});}\n//  this.setState({msg: \"Username & Password is Invalid\"});\n}\n  render() {\n    localStorage.clear();\n    const { getFieldDecorator } = this.props.form;\n    return (\n      <div className=\"login-form-container\">\n        <div className=\"header-login\">\n          <div className=\"login-logo\">\n            <img src=\"/assets/images/logo-white.png\" alt=\"SQ\"/>\n          </div>\n        </div>\n        <div className=\"login-row\">\n          <div className=\"login-cell cell-login-hero\" style={{backgroundImage: 'url(/assets/images/login-bg.jpg)'}}>\n            <div className=\"login-cell-block\">\n              <div className=\"login-cell-content\">\n                <div className=\"login-hero-content\">\n                  <h1 className=\"login-heading\">Welcome to SQ</h1>\n                  <div className=\"login-subheading\">\n                    <p>\n                    This is the new face of SQ. New look, new ideas, same core\n                    </p>\n                  </div>\n                  <div className=\"website-link\">\n                    <Link to='http://webmamu.com/static/qcn/'>www.sqgc.com/</Link>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n          <div className=\"login-cell cell-login-form\">\n            <div className=\"bg-image-mobile\" style={{backgroundImage: 'url(/assets/images/login-bg.jpg)'}}></div>\n            <div className=\"login-cell-block\">\n              <div className=\"login-logo text-center\">\n                <img src=\"/assets/images/logo-white.png\" alt=\"SQ\"/>\n              </div>\n              <div className=\"logo-with-form login-cell-content\">\n                <h4 className=\"mb-3\">Login with SQ</h4>\n                <Form onSubmit={this.handleSubmit} className=\"login-form\">\n                  <FormItem>\n\n                    {getFieldDecorator(\"userName\", {\n                      rules: [\n                        {\n                          required: true,\n                          message: \"Please input your Username!\"\n                        }\n                      ]\n                    })(\n                      <Input refs=\"u_name\" name=\"username\" onChange={this.myChangeHandler} size=\"large\" prefix={ <Icon type=\"user\" style={{ color: \"rgba(0,0,0,.25)\" }} />  }\n                        placeholder=\"Username\"\n                      />\n                    )}\n                  </FormItem>\n                  <FormItem>\n                    {getFieldDecorator(\"password\", {\n                      rules: [\n                        {\n                          required: true,\n                          message: \"Please input your Password!\"\n                        }\n                      ]\n                    })(\n                      <Input refs=\"u_pass\" name=\"password\" onChange={this.myChangeHandler}\n                        size=\"large\"\n                        prefix={\n                          <Icon\n                            type=\"lock\"\n                            style={{ color: \"rgba(0,0,0,.25)\" }}\n                          />\n                        }\n                        type=\"password\"\n                        placeholder=\"Password\"\n                      />\n                    )}\n                  </FormItem>\n                  <FormItem>\n                    <ul className=\"login-meta\">\n                      <li>\n                        <Link to='/forgot-password'>\n                          Forgot password ?\n                        </Link>\n                      </li>\n                      <li>\n                        <Checkbox>Remember Me</Checkbox>\n                      </li>\n                    </ul>\n                  </FormItem>\n                  <FormItem>\n                    <Button\n                      type=\"primary\"\n                      htmlType=\"submit\"\n                      size=\"large\"\n                      className=\"login-form-button\"\n                      style={{ width: \"100%\" }}\n                    >\n                      Log in\n                    </Button>\n                  </FormItem>\n                  <FormItem>\n                    <p style={{ color: \"red\" }}>{this.state.msg}</p>\n                  </FormItem>\n                </Form>\n\n                <div className=\"not-user\">\n                  New User? <Link to='/signup-page'>Signup</Link>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\n\nconst WrappedLoginForm = Form.create()(LoginForm);\n\nexport default WrappedLoginForm;"]},"metadata":{},"sourceType":"module"}