{"ast":null,"code":"/**\n* Copyright 2012-2019, Plotly, Inc.\n* All rights reserved.\n*\n* This source code is licensed under the MIT license found in the\n* LICENSE file in the root directory of this source tree.\n*/\n'use strict';\n\nvar Events = require('../../lib/events');\n\nvar throttle = require('../../lib/throttle');\n\nvar getGraphDiv = require('../../lib/dom').getGraphDiv;\n\nvar hoverConstants = require('../fx/constants');\n\nvar unhover = module.exports = {};\n\nunhover.wrapped = function (gd, evt, subplot) {\n  gd = getGraphDiv(gd); // Important, clear any queued hovers\n\n  if (gd._fullLayout) {\n    throttle.clear(gd._fullLayout._uid + hoverConstants.HOVERID);\n  }\n\n  unhover.raw(gd, evt, subplot);\n}; // remove hover effects on mouse out, and emit unhover event\n\n\nunhover.raw = function raw(gd, evt) {\n  var fullLayout = gd._fullLayout;\n  var oldhoverdata = gd._hoverdata;\n  if (!evt) evt = {};\n\n  if (evt.target && Events.triggerHandler(gd, 'plotly_beforehover', evt) === false) {\n    return;\n  }\n\n  fullLayout._hoverlayer.selectAll('g').remove();\n\n  fullLayout._hoverlayer.selectAll('line').remove();\n\n  fullLayout._hoverlayer.selectAll('circle').remove();\n\n  gd._hoverdata = undefined;\n\n  if (evt.target && oldhoverdata) {\n    gd.emit('plotly_unhover', {\n      event: evt,\n      points: oldhoverdata\n    });\n  }\n};","map":null,"metadata":{},"sourceType":"script"}