{"ast":null,"code":"/**\n* Copyright 2012-2019, Plotly, Inc.\n* All rights reserved.\n*\n* This source code is licensed under the MIT license found in the\n* LICENSE file in the root directory of this source tree.\n*/\n'use strict';\n\nvar Lib = require('../../lib');\n\nvar handleArrayContainerDefaults = require('../../plots/array_container_defaults');\n\nvar attributes = require('./attributes');\n\nvar constants = require('./constants');\n\nvar name = constants.name;\nvar buttonAttrs = attributes.buttons;\n\nmodule.exports = function updateMenusDefaults(layoutIn, layoutOut) {\n  var opts = {\n    name: name,\n    handleItemDefaults: menuDefaults\n  };\n  handleArrayContainerDefaults(layoutIn, layoutOut, opts);\n};\n\nfunction menuDefaults(menuIn, menuOut, layoutOut) {\n  function coerce(attr, dflt) {\n    return Lib.coerce(menuIn, menuOut, attributes, attr, dflt);\n  }\n\n  var buttons = handleArrayContainerDefaults(menuIn, menuOut, {\n    name: 'buttons',\n    handleItemDefaults: buttonDefaults\n  });\n  var visible = coerce('visible', buttons.length > 0);\n  if (!visible) return;\n  coerce('active');\n  coerce('direction');\n  coerce('type');\n  coerce('showactive');\n  coerce('x');\n  coerce('y');\n  Lib.noneOrAll(menuIn, menuOut, ['x', 'y']);\n  coerce('xanchor');\n  coerce('yanchor');\n  coerce('pad.t');\n  coerce('pad.r');\n  coerce('pad.b');\n  coerce('pad.l');\n  Lib.coerceFont(coerce, 'font', layoutOut.font);\n  coerce('bgcolor', layoutOut.paper_bgcolor);\n  coerce('bordercolor');\n  coerce('borderwidth');\n}\n\nfunction buttonDefaults(buttonIn, buttonOut) {\n  function coerce(attr, dflt) {\n    return Lib.coerce(buttonIn, buttonOut, buttonAttrs, attr, dflt);\n  }\n\n  var visible = coerce('visible', buttonIn.method === 'skip' || Array.isArray(buttonIn.args));\n\n  if (visible) {\n    coerce('method');\n    coerce('args');\n    coerce('args2');\n    coerce('label');\n    coerce('execute');\n  }\n}","map":null,"metadata":{},"sourceType":"script"}