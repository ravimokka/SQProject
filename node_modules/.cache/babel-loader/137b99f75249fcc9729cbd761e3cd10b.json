{"ast":null,"code":"/**\n* Copyright 2012-2019, Plotly, Inc.\n* All rights reserved.\n*\n* This source code is licensed under the MIT license found in the\n* LICENSE file in the root directory of this source tree.\n*/\n'use strict';\n\nvar isNumeric = require('fast-isnumeric');\n\nvar BADNUM = require('../../constants/numerical').BADNUM;\n\nvar calcMarkerColorscale = require('../scatter/colorscale_calc');\n\nvar arraysToCalcdata = require('../scatter/arrays_to_calcdata');\n\nvar calcSelection = require('../scatter/calc_selection');\n\nvar _ = require('../../lib')._;\n\nmodule.exports = function calc(gd, trace) {\n  var hasLocationData = Array.isArray(trace.locations);\n  var len = hasLocationData ? trace.locations.length : trace._length;\n  var calcTrace = new Array(len);\n\n  for (var i = 0; i < len; i++) {\n    var calcPt = calcTrace[i] = {};\n\n    if (hasLocationData) {\n      var loc = trace.locations[i];\n      calcPt.loc = typeof loc === 'string' ? loc : null;\n    } else {\n      var lon = trace.lon[i];\n      var lat = trace.lat[i];\n      if (isNumeric(lon) && isNumeric(lat)) calcPt.lonlat = [+lon, +lat];else calcPt.lonlat = [BADNUM, BADNUM];\n    }\n  }\n\n  arraysToCalcdata(calcTrace, trace);\n  calcMarkerColorscale(gd, trace);\n  calcSelection(calcTrace, trace);\n\n  if (len) {\n    calcTrace[0].t = {\n      labels: {\n        lat: _(gd, 'lat:') + ' ',\n        lon: _(gd, 'lon:') + ' '\n      }\n    };\n  }\n\n  return calcTrace;\n};","map":{"version":3,"sources":["/home/user/Desktop/milonux-sq-dashboard-59aefe7abad7/node_modules/plotly.js/src/traces/scattergeo/calc.js"],"names":["isNumeric","require","BADNUM","calcMarkerColorscale","arraysToCalcdata","calcSelection","_","module","exports","calc","gd","trace","hasLocationData","Array","isArray","locations","len","length","_length","calcTrace","i","calcPt","loc","lon","lat","lonlat","t","labels"],"mappings":"AAAA;;;;;;;AASA;;AAEA,IAAIA,SAAS,GAAGC,OAAO,CAAC,gBAAD,CAAvB;;AACA,IAAIC,MAAM,GAAGD,OAAO,CAAC,2BAAD,CAAP,CAAqCC,MAAlD;;AAEA,IAAIC,oBAAoB,GAAGF,OAAO,CAAC,4BAAD,CAAlC;;AACA,IAAIG,gBAAgB,GAAGH,OAAO,CAAC,+BAAD,CAA9B;;AACA,IAAII,aAAa,GAAGJ,OAAO,CAAC,2BAAD,CAA3B;;AAEA,IAAIK,CAAC,GAAGL,OAAO,CAAC,WAAD,CAAP,CAAqBK,CAA7B;;AAEAC,MAAM,CAACC,OAAP,GAAiB,SAASC,IAAT,CAAcC,EAAd,EAAkBC,KAAlB,EAAyB;AACtC,MAAIC,eAAe,GAAGC,KAAK,CAACC,OAAN,CAAcH,KAAK,CAACI,SAApB,CAAtB;AACA,MAAIC,GAAG,GAAGJ,eAAe,GAAGD,KAAK,CAACI,SAAN,CAAgBE,MAAnB,GAA4BN,KAAK,CAACO,OAA3D;AACA,MAAIC,SAAS,GAAG,IAAIN,KAAJ,CAAUG,GAAV,CAAhB;;AAEA,OAAI,IAAII,CAAC,GAAG,CAAZ,EAAeA,CAAC,GAAGJ,GAAnB,EAAwBI,CAAC,EAAzB,EAA6B;AACzB,QAAIC,MAAM,GAAGF,SAAS,CAACC,CAAD,CAAT,GAAe,EAA5B;;AAEA,QAAGR,eAAH,EAAoB;AAChB,UAAIU,GAAG,GAAGX,KAAK,CAACI,SAAN,CAAgBK,CAAhB,CAAV;AACAC,MAAAA,MAAM,CAACC,GAAP,GAAa,OAAOA,GAAP,KAAe,QAAf,GAA0BA,GAA1B,GAAgC,IAA7C;AACH,KAHD,MAGO;AACH,UAAIC,GAAG,GAAGZ,KAAK,CAACY,GAAN,CAAUH,CAAV,CAAV;AACA,UAAII,GAAG,GAAGb,KAAK,CAACa,GAAN,CAAUJ,CAAV,CAAV;AAEA,UAAGpB,SAAS,CAACuB,GAAD,CAAT,IAAkBvB,SAAS,CAACwB,GAAD,CAA9B,EAAqCH,MAAM,CAACI,MAAP,GAAgB,CAAC,CAACF,GAAF,EAAO,CAACC,GAAR,CAAhB,CAArC,KACKH,MAAM,CAACI,MAAP,GAAgB,CAACvB,MAAD,EAASA,MAAT,CAAhB;AACR;AACJ;;AAEDE,EAAAA,gBAAgB,CAACe,SAAD,EAAYR,KAAZ,CAAhB;AACAR,EAAAA,oBAAoB,CAACO,EAAD,EAAKC,KAAL,CAApB;AACAN,EAAAA,aAAa,CAACc,SAAD,EAAYR,KAAZ,CAAb;;AAEA,MAAGK,GAAH,EAAQ;AACJG,IAAAA,SAAS,CAAC,CAAD,CAAT,CAAaO,CAAb,GAAiB;AACbC,MAAAA,MAAM,EAAE;AACJH,QAAAA,GAAG,EAAElB,CAAC,CAACI,EAAD,EAAK,MAAL,CAAD,GAAgB,GADjB;AAEJa,QAAAA,GAAG,EAAEjB,CAAC,CAACI,EAAD,EAAK,MAAL,CAAD,GAAgB;AAFjB;AADK,KAAjB;AAMH;;AAED,SAAOS,SAAP;AACH,CAlCD","sourcesContent":["/**\n* Copyright 2012-2019, Plotly, Inc.\n* All rights reserved.\n*\n* This source code is licensed under the MIT license found in the\n* LICENSE file in the root directory of this source tree.\n*/\n\n\n'use strict';\n\nvar isNumeric = require('fast-isnumeric');\nvar BADNUM = require('../../constants/numerical').BADNUM;\n\nvar calcMarkerColorscale = require('../scatter/colorscale_calc');\nvar arraysToCalcdata = require('../scatter/arrays_to_calcdata');\nvar calcSelection = require('../scatter/calc_selection');\n\nvar _ = require('../../lib')._;\n\nmodule.exports = function calc(gd, trace) {\n    var hasLocationData = Array.isArray(trace.locations);\n    var len = hasLocationData ? trace.locations.length : trace._length;\n    var calcTrace = new Array(len);\n\n    for(var i = 0; i < len; i++) {\n        var calcPt = calcTrace[i] = {};\n\n        if(hasLocationData) {\n            var loc = trace.locations[i];\n            calcPt.loc = typeof loc === 'string' ? loc : null;\n        } else {\n            var lon = trace.lon[i];\n            var lat = trace.lat[i];\n\n            if(isNumeric(lon) && isNumeric(lat)) calcPt.lonlat = [+lon, +lat];\n            else calcPt.lonlat = [BADNUM, BADNUM];\n        }\n    }\n\n    arraysToCalcdata(calcTrace, trace);\n    calcMarkerColorscale(gd, trace);\n    calcSelection(calcTrace, trace);\n\n    if(len) {\n        calcTrace[0].t = {\n            labels: {\n                lat: _(gd, 'lat:') + ' ',\n                lon: _(gd, 'lon:') + ' '\n            }\n        };\n    }\n\n    return calcTrace;\n};\n"]},"metadata":{},"sourceType":"script"}