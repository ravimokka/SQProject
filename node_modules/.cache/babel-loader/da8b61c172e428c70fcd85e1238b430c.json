{"ast":null,"code":"/**\n* Copyright 2012-2019, Plotly, Inc.\n* All rights reserved.\n*\n* This source code is licensed under the MIT license found in the\n* LICENSE file in the root directory of this source tree.\n*/\n'use strict';\n\nvar Lib = require('../../lib');\n\nexports.formatPiePercent = function formatPiePercent(v, separators) {\n  var vRounded = (v * 100).toPrecision(3);\n\n  if (vRounded.lastIndexOf('.') !== -1) {\n    vRounded = vRounded.replace(/[.]?0+$/, '');\n  }\n\n  return Lib.numSeparate(vRounded, separators) + '%';\n};\n\nexports.formatPieValue = function formatPieValue(v, separators) {\n  var vRounded = v.toPrecision(10);\n\n  if (vRounded.lastIndexOf('.') !== -1) {\n    vRounded = vRounded.replace(/[.]?0+$/, '');\n  }\n\n  return Lib.numSeparate(vRounded, separators);\n};\n\nexports.getFirstFilled = function getFirstFilled(array, indices) {\n  if (!Array.isArray(array)) return;\n\n  for (var i = 0; i < indices.length; i++) {\n    var v = array[indices[i]];\n    if (v || v === 0 || v === '') return v;\n  }\n};\n\nexports.castOption = function castOption(item, indices) {\n  if (Array.isArray(item)) return exports.getFirstFilled(item, indices);else if (item) return item;\n};","map":null,"metadata":{},"sourceType":"script"}