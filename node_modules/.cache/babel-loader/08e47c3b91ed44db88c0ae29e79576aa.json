{"ast":null,"code":"import _extends from 'babel-runtime/helpers/extends';\nimport _classCallCheck from 'babel-runtime/helpers/classCallCheck';\nimport _possibleConstructorReturn from 'babel-runtime/helpers/possibleConstructorReturn';\nimport _inherits from 'babel-runtime/helpers/inherits';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport PropTypes from 'prop-types';\nimport KeyCode from 'rc-util/es/KeyCode';\nimport classNames from 'classnames';\nimport scrollIntoView from 'dom-scroll-into-view';\nimport { connect } from 'mini-store';\nimport { noop, menuAllProps } from './util';\n/* eslint react/no-is-mounted:0 */\n\nexport var MenuItem = function (_React$Component) {\n  _inherits(MenuItem, _React$Component);\n\n  function MenuItem(props) {\n    _classCallCheck(this, MenuItem);\n\n    var _this = _possibleConstructorReturn(this, _React$Component.call(this, props));\n\n    _this.onKeyDown = function (e) {\n      var keyCode = e.keyCode;\n\n      if (keyCode === KeyCode.ENTER) {\n        _this.onClick(e);\n\n        return true;\n      }\n    };\n\n    _this.onMouseLeave = function (e) {\n      var _this$props = _this.props,\n          eventKey = _this$props.eventKey,\n          onItemHover = _this$props.onItemHover,\n          onMouseLeave = _this$props.onMouseLeave;\n      onItemHover({\n        key: eventKey,\n        hover: false\n      });\n      onMouseLeave({\n        key: eventKey,\n        domEvent: e\n      });\n    };\n\n    _this.onMouseEnter = function (e) {\n      var _this$props2 = _this.props,\n          eventKey = _this$props2.eventKey,\n          onItemHover = _this$props2.onItemHover,\n          onMouseEnter = _this$props2.onMouseEnter;\n      onItemHover({\n        key: eventKey,\n        hover: true\n      });\n      onMouseEnter({\n        key: eventKey,\n        domEvent: e\n      });\n    };\n\n    _this.onClick = function (e) {\n      var _this$props3 = _this.props,\n          eventKey = _this$props3.eventKey,\n          multiple = _this$props3.multiple,\n          onClick = _this$props3.onClick,\n          onSelect = _this$props3.onSelect,\n          onDeselect = _this$props3.onDeselect,\n          isSelected = _this$props3.isSelected;\n      var info = {\n        key: eventKey,\n        keyPath: [eventKey],\n        item: _this,\n        domEvent: e\n      };\n      onClick(info);\n\n      if (multiple) {\n        if (isSelected) {\n          onDeselect(info);\n        } else {\n          onSelect(info);\n        }\n      } else if (!isSelected) {\n        onSelect(info);\n      }\n    };\n\n    _this.saveNode = function (node) {\n      _this.node = node;\n    };\n\n    return _this;\n  }\n\n  MenuItem.prototype.componentDidMount = function componentDidMount() {\n    // invoke customized ref to expose component to mixin\n    this.callRef();\n  };\n\n  MenuItem.prototype.componentDidUpdate = function componentDidUpdate(prevProps) {\n    var _props = this.props,\n        active = _props.active,\n        parentMenu = _props.parentMenu,\n        eventKey = _props.eventKey; // 在 parentMenu 上层保存滚动状态，避免重复的 MenuItem key 导致滚动跳动\n    // https://github.com/ant-design/ant-design/issues/16181\n\n    if (!prevProps.active && active && !parentMenu && !parentMenu['scrolled-' + eventKey]) {\n      if (this.node) {\n        scrollIntoView(this.node, ReactDOM.findDOMNode(parentMenu), {\n          onlyScrollIfNeeded: true\n        });\n        parentMenu['scrolled-' + eventKey] = true;\n      }\n    } else if (parentMenu && parentMenu['scrolled-' + eventKey]) {\n      delete parentMenu['scrolled-' + eventKey];\n    }\n\n    this.callRef();\n  };\n\n  MenuItem.prototype.componentWillUnmount = function componentWillUnmount() {\n    var props = this.props;\n\n    if (props.onDestroy) {\n      props.onDestroy(props.eventKey);\n    }\n  };\n\n  MenuItem.prototype.getPrefixCls = function getPrefixCls() {\n    return this.props.rootPrefixCls + '-item';\n  };\n\n  MenuItem.prototype.getActiveClassName = function getActiveClassName() {\n    return this.getPrefixCls() + '-active';\n  };\n\n  MenuItem.prototype.getSelectedClassName = function getSelectedClassName() {\n    return this.getPrefixCls() + '-selected';\n  };\n\n  MenuItem.prototype.getDisabledClassName = function getDisabledClassName() {\n    return this.getPrefixCls() + '-disabled';\n  };\n\n  MenuItem.prototype.callRef = function callRef() {\n    if (this.props.manualRef) {\n      this.props.manualRef(this);\n    }\n  };\n\n  MenuItem.prototype.render = function render() {\n    var _classNames;\n\n    var props = _extends({}, this.props);\n\n    var className = classNames(this.getPrefixCls(), props.className, (_classNames = {}, _classNames[this.getActiveClassName()] = !props.disabled && props.active, _classNames[this.getSelectedClassName()] = props.isSelected, _classNames[this.getDisabledClassName()] = props.disabled, _classNames));\n\n    var attrs = _extends({}, props.attribute, {\n      title: props.title,\n      className: className,\n      // set to menuitem by default\n      role: props.role || 'menuitem',\n      'aria-disabled': props.disabled\n    });\n\n    if (props.role === 'option') {\n      // overwrite to option\n      attrs = _extends({}, attrs, {\n        role: 'option',\n        'aria-selected': props.isSelected\n      });\n    } else if (props.role === null || props.role === 'none') {\n      // sometimes we want to specify role inside <li/> element\n      // <li><a role='menuitem'>Link</a></li> would be a good example\n      // in this case the role on <li/> should be \"none\" to\n      // remove the implied listitem role.\n      // https://www.w3.org/TR/wai-aria-practices-1.1/examples/menubar/menubar-1/menubar-1.html\n      attrs.role = 'none';\n    } // In case that onClick/onMouseLeave/onMouseEnter is passed down from owner\n\n\n    var mouseEvent = {\n      onClick: props.disabled ? null : this.onClick,\n      onMouseLeave: props.disabled ? null : this.onMouseLeave,\n      onMouseEnter: props.disabled ? null : this.onMouseEnter\n    };\n\n    var style = _extends({}, props.style);\n\n    if (props.mode === 'inline') {\n      style.paddingLeft = props.inlineIndent * props.level;\n    }\n\n    menuAllProps.forEach(function (key) {\n      return delete props[key];\n    });\n    var icon = this.props.itemIcon;\n\n    if (typeof this.props.itemIcon === 'function') {\n      icon = React.createElement(this.props.itemIcon, this.props);\n    }\n\n    return React.createElement('li', _extends({}, props, attrs, mouseEvent, {\n      style: style,\n      ref: this.saveNode\n    }), props.children, icon);\n  };\n\n  return MenuItem;\n}(React.Component);\nMenuItem.propTypes = {\n  attribute: PropTypes.object,\n  rootPrefixCls: PropTypes.string,\n  eventKey: PropTypes.string,\n  active: PropTypes.bool,\n  children: PropTypes.any,\n  selectedKeys: PropTypes.array,\n  disabled: PropTypes.bool,\n  title: PropTypes.string,\n  onItemHover: PropTypes.func,\n  onSelect: PropTypes.func,\n  onClick: PropTypes.func,\n  onDeselect: PropTypes.func,\n  parentMenu: PropTypes.object,\n  onDestroy: PropTypes.func,\n  onMouseEnter: PropTypes.func,\n  onMouseLeave: PropTypes.func,\n  multiple: PropTypes.bool,\n  isSelected: PropTypes.bool,\n  manualRef: PropTypes.func,\n  itemIcon: PropTypes.oneOfType([PropTypes.func, PropTypes.node])\n};\nMenuItem.defaultProps = {\n  onSelect: noop,\n  onMouseEnter: noop,\n  onMouseLeave: noop,\n  manualRef: noop\n};\nMenuItem.isMenuItem = true;\nvar connected = connect(function (_ref, _ref2) {\n  var activeKey = _ref.activeKey,\n      selectedKeys = _ref.selectedKeys;\n  var eventKey = _ref2.eventKey,\n      subMenuKey = _ref2.subMenuKey;\n  return {\n    active: activeKey[subMenuKey] === eventKey,\n    isSelected: selectedKeys.indexOf(eventKey) !== -1\n  };\n})(MenuItem);\nexport default connected;","map":{"version":3,"sources":["/home/user/Desktop/milonux-sq-dashboard-59aefe7abad7/node_modules/rc-menu/es/MenuItem.js"],"names":["_extends","_classCallCheck","_possibleConstructorReturn","_inherits","React","ReactDOM","PropTypes","KeyCode","classNames","scrollIntoView","connect","noop","menuAllProps","MenuItem","_React$Component","props","_this","call","onKeyDown","e","keyCode","ENTER","onClick","onMouseLeave","_this$props","eventKey","onItemHover","key","hover","domEvent","onMouseEnter","_this$props2","_this$props3","multiple","onSelect","onDeselect","isSelected","info","keyPath","item","saveNode","node","prototype","componentDidMount","callRef","componentDidUpdate","prevProps","_props","active","parentMenu","findDOMNode","onlyScrollIfNeeded","componentWillUnmount","onDestroy","getPrefixCls","rootPrefixCls","getActiveClassName","getSelectedClassName","getDisabledClassName","manualRef","render","_classNames","className","disabled","attrs","attribute","title","role","mouseEvent","style","mode","paddingLeft","inlineIndent","level","forEach","icon","itemIcon","createElement","ref","children","Component","propTypes","object","string","bool","any","selectedKeys","array","func","oneOfType","defaultProps","isMenuItem","connected","_ref","_ref2","activeKey","subMenuKey","indexOf"],"mappings":"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","sourcesContent":["import _extends from 'babel-runtime/helpers/extends';\nimport _classCallCheck from 'babel-runtime/helpers/classCallCheck';\nimport _possibleConstructorReturn from 'babel-runtime/helpers/possibleConstructorReturn';\nimport _inherits from 'babel-runtime/helpers/inherits';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport PropTypes from 'prop-types';\nimport KeyCode from 'rc-util/es/KeyCode';\nimport classNames from 'classnames';\nimport scrollIntoView from 'dom-scroll-into-view';\nimport { connect } from 'mini-store';\nimport { noop, menuAllProps } from './util';\n\n/* eslint react/no-is-mounted:0 */\n\nexport var MenuItem = function (_React$Component) {\n  _inherits(MenuItem, _React$Component);\n\n  function MenuItem(props) {\n    _classCallCheck(this, MenuItem);\n\n    var _this = _possibleConstructorReturn(this, _React$Component.call(this, props));\n\n    _this.onKeyDown = function (e) {\n      var keyCode = e.keyCode;\n      if (keyCode === KeyCode.ENTER) {\n        _this.onClick(e);\n        return true;\n      }\n    };\n\n    _this.onMouseLeave = function (e) {\n      var _this$props = _this.props,\n          eventKey = _this$props.eventKey,\n          onItemHover = _this$props.onItemHover,\n          onMouseLeave = _this$props.onMouseLeave;\n\n      onItemHover({\n        key: eventKey,\n        hover: false\n      });\n      onMouseLeave({\n        key: eventKey,\n        domEvent: e\n      });\n    };\n\n    _this.onMouseEnter = function (e) {\n      var _this$props2 = _this.props,\n          eventKey = _this$props2.eventKey,\n          onItemHover = _this$props2.onItemHover,\n          onMouseEnter = _this$props2.onMouseEnter;\n\n      onItemHover({\n        key: eventKey,\n        hover: true\n      });\n      onMouseEnter({\n        key: eventKey,\n        domEvent: e\n      });\n    };\n\n    _this.onClick = function (e) {\n      var _this$props3 = _this.props,\n          eventKey = _this$props3.eventKey,\n          multiple = _this$props3.multiple,\n          onClick = _this$props3.onClick,\n          onSelect = _this$props3.onSelect,\n          onDeselect = _this$props3.onDeselect,\n          isSelected = _this$props3.isSelected;\n\n      var info = {\n        key: eventKey,\n        keyPath: [eventKey],\n        item: _this,\n        domEvent: e\n      };\n      onClick(info);\n      if (multiple) {\n        if (isSelected) {\n          onDeselect(info);\n        } else {\n          onSelect(info);\n        }\n      } else if (!isSelected) {\n        onSelect(info);\n      }\n    };\n\n    _this.saveNode = function (node) {\n      _this.node = node;\n    };\n\n    return _this;\n  }\n\n  MenuItem.prototype.componentDidMount = function componentDidMount() {\n    // invoke customized ref to expose component to mixin\n    this.callRef();\n  };\n\n  MenuItem.prototype.componentDidUpdate = function componentDidUpdate(prevProps) {\n    var _props = this.props,\n        active = _props.active,\n        parentMenu = _props.parentMenu,\n        eventKey = _props.eventKey;\n    // 在 parentMenu 上层保存滚动状态，避免重复的 MenuItem key 导致滚动跳动\n    // https://github.com/ant-design/ant-design/issues/16181\n\n    if (!prevProps.active && active && !parentMenu && !parentMenu['scrolled-' + eventKey]) {\n      if (this.node) {\n        scrollIntoView(this.node, ReactDOM.findDOMNode(parentMenu), {\n          onlyScrollIfNeeded: true\n        });\n        parentMenu['scrolled-' + eventKey] = true;\n      }\n    } else if (parentMenu && parentMenu['scrolled-' + eventKey]) {\n      delete parentMenu['scrolled-' + eventKey];\n    }\n    this.callRef();\n  };\n\n  MenuItem.prototype.componentWillUnmount = function componentWillUnmount() {\n    var props = this.props;\n    if (props.onDestroy) {\n      props.onDestroy(props.eventKey);\n    }\n  };\n\n  MenuItem.prototype.getPrefixCls = function getPrefixCls() {\n    return this.props.rootPrefixCls + '-item';\n  };\n\n  MenuItem.prototype.getActiveClassName = function getActiveClassName() {\n    return this.getPrefixCls() + '-active';\n  };\n\n  MenuItem.prototype.getSelectedClassName = function getSelectedClassName() {\n    return this.getPrefixCls() + '-selected';\n  };\n\n  MenuItem.prototype.getDisabledClassName = function getDisabledClassName() {\n    return this.getPrefixCls() + '-disabled';\n  };\n\n  MenuItem.prototype.callRef = function callRef() {\n    if (this.props.manualRef) {\n      this.props.manualRef(this);\n    }\n  };\n\n  MenuItem.prototype.render = function render() {\n    var _classNames;\n\n    var props = _extends({}, this.props);\n    var className = classNames(this.getPrefixCls(), props.className, (_classNames = {}, _classNames[this.getActiveClassName()] = !props.disabled && props.active, _classNames[this.getSelectedClassName()] = props.isSelected, _classNames[this.getDisabledClassName()] = props.disabled, _classNames));\n    var attrs = _extends({}, props.attribute, {\n      title: props.title,\n      className: className,\n      // set to menuitem by default\n      role: props.role || 'menuitem',\n      'aria-disabled': props.disabled\n    });\n\n    if (props.role === 'option') {\n      // overwrite to option\n      attrs = _extends({}, attrs, {\n        role: 'option',\n        'aria-selected': props.isSelected\n      });\n    } else if (props.role === null || props.role === 'none') {\n      // sometimes we want to specify role inside <li/> element\n      // <li><a role='menuitem'>Link</a></li> would be a good example\n      // in this case the role on <li/> should be \"none\" to\n      // remove the implied listitem role.\n      // https://www.w3.org/TR/wai-aria-practices-1.1/examples/menubar/menubar-1/menubar-1.html\n      attrs.role = 'none';\n    }\n    // In case that onClick/onMouseLeave/onMouseEnter is passed down from owner\n    var mouseEvent = {\n      onClick: props.disabled ? null : this.onClick,\n      onMouseLeave: props.disabled ? null : this.onMouseLeave,\n      onMouseEnter: props.disabled ? null : this.onMouseEnter\n    };\n    var style = _extends({}, props.style);\n    if (props.mode === 'inline') {\n      style.paddingLeft = props.inlineIndent * props.level;\n    }\n    menuAllProps.forEach(function (key) {\n      return delete props[key];\n    });\n    var icon = this.props.itemIcon;\n    if (typeof this.props.itemIcon === 'function') {\n      icon = React.createElement(this.props.itemIcon, this.props);\n    }\n    return React.createElement(\n      'li',\n      _extends({}, props, attrs, mouseEvent, { style: style, ref: this.saveNode }),\n      props.children,\n      icon\n    );\n  };\n\n  return MenuItem;\n}(React.Component);\n\nMenuItem.propTypes = {\n  attribute: PropTypes.object,\n  rootPrefixCls: PropTypes.string,\n  eventKey: PropTypes.string,\n  active: PropTypes.bool,\n  children: PropTypes.any,\n  selectedKeys: PropTypes.array,\n  disabled: PropTypes.bool,\n  title: PropTypes.string,\n  onItemHover: PropTypes.func,\n  onSelect: PropTypes.func,\n  onClick: PropTypes.func,\n  onDeselect: PropTypes.func,\n  parentMenu: PropTypes.object,\n  onDestroy: PropTypes.func,\n  onMouseEnter: PropTypes.func,\n  onMouseLeave: PropTypes.func,\n  multiple: PropTypes.bool,\n  isSelected: PropTypes.bool,\n  manualRef: PropTypes.func,\n  itemIcon: PropTypes.oneOfType([PropTypes.func, PropTypes.node])\n};\nMenuItem.defaultProps = {\n  onSelect: noop,\n  onMouseEnter: noop,\n  onMouseLeave: noop,\n  manualRef: noop\n};\nMenuItem.isMenuItem = true;\n\nvar connected = connect(function (_ref, _ref2) {\n  var activeKey = _ref.activeKey,\n      selectedKeys = _ref.selectedKeys;\n  var eventKey = _ref2.eventKey,\n      subMenuKey = _ref2.subMenuKey;\n  return {\n    active: activeKey[subMenuKey] === eventKey,\n    isSelected: selectedKeys.indexOf(eventKey) !== -1\n  };\n})(MenuItem);\n\nexport default connected;"]},"metadata":{},"sourceType":"module"}