{"ast":null,"code":"/**\n* Copyright 2012-2019, Plotly, Inc.\n* All rights reserved.\n*\n* This source code is licensed under the MIT license found in the\n* LICENSE file in the root directory of this source tree.\n*/\n'use strict';\n\nvar d3 = require('d3');\n\nvar Lib = require('../../lib');\n\nvar dragElement = require('../dragelement');\n\nvar helpers = require('./helpers');\n\nvar layoutAttributes = require('./layout_attributes');\n\nvar hoverModule = require('./hover');\n\nmodule.exports = {\n  moduleType: 'component',\n  name: 'fx',\n  constants: require('./constants'),\n  schema: {\n    layout: layoutAttributes\n  },\n  attributes: require('./attributes'),\n  layoutAttributes: layoutAttributes,\n  supplyLayoutGlobalDefaults: require('./layout_global_defaults'),\n  supplyDefaults: require('./defaults'),\n  supplyLayoutDefaults: require('./layout_defaults'),\n  calc: require('./calc'),\n  getDistanceFunction: helpers.getDistanceFunction,\n  getClosest: helpers.getClosest,\n  inbox: helpers.inbox,\n  quadrature: helpers.quadrature,\n  appendArrayPointValue: helpers.appendArrayPointValue,\n  castHoverOption: castHoverOption,\n  castHoverinfo: castHoverinfo,\n  hover: hoverModule.hover,\n  unhover: dragElement.unhover,\n  loneHover: hoverModule.loneHover,\n  loneUnhover: loneUnhover,\n  click: require('./click')\n};\n\nfunction loneUnhover(containerOrSelection) {\n  // duck type whether the arg is a d3 selection because ie9 doesn't\n  // handle instanceof like modern browsers do.\n  var selection = Lib.isD3Selection(containerOrSelection) ? containerOrSelection : d3.select(containerOrSelection);\n  selection.selectAll('g.hovertext').remove();\n  selection.selectAll('.spikeline').remove();\n} // helpers for traces that use Fx.loneHover\n\n\nfunction castHoverOption(trace, ptNumber, attr) {\n  return Lib.castOption(trace, ptNumber, 'hoverlabel.' + attr);\n}\n\nfunction castHoverinfo(trace, fullLayout, ptNumber) {\n  function _coerce(val) {\n    return Lib.coerceHoverinfo({\n      hoverinfo: val\n    }, {\n      _module: trace._module\n    }, fullLayout);\n  }\n\n  return Lib.castOption(trace, ptNumber, 'hoverinfo', _coerce);\n}","map":null,"metadata":{},"sourceType":"script"}