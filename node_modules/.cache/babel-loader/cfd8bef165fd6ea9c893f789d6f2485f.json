{"ast":null,"code":"(function webpackUniversalModuleDefinition(root, factory) {\n  if (typeof exports === 'object' && typeof module === 'object') module.exports = factory();else if (typeof define === 'function' && define.amd) define([], factory);else if (typeof exports === 'object') exports[\"Brush\"] = factory();else root[\"Brush\"] = factory();\n})(this, function () {\n  return (\n    /******/\n    function (modules) {\n      // webpackBootstrap\n\n      /******/\n      // The module cache\n\n      /******/\n      var installedModules = {};\n      /******/\n\n      /******/\n      // The require function\n\n      /******/\n\n      function __webpack_require__(moduleId) {\n        /******/\n\n        /******/\n        // Check if module is in cache\n\n        /******/\n        if (installedModules[moduleId]) {\n          /******/\n          return installedModules[moduleId].exports;\n          /******/\n        }\n        /******/\n        // Create a new module (and put it into the cache)\n\n        /******/\n\n\n        var module = installedModules[moduleId] = {\n          /******/\n          i: moduleId,\n\n          /******/\n          l: false,\n\n          /******/\n          exports: {}\n          /******/\n\n        };\n        /******/\n\n        /******/\n        // Execute the module function\n\n        /******/\n\n        modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n        /******/\n\n        /******/\n        // Flag the module as loaded\n\n        /******/\n\n        module.l = true;\n        /******/\n\n        /******/\n        // Return the exports of the module\n\n        /******/\n\n        return module.exports;\n        /******/\n      }\n      /******/\n\n      /******/\n\n      /******/\n      // expose the modules object (__webpack_modules__)\n\n      /******/\n\n\n      __webpack_require__.m = modules;\n      /******/\n\n      /******/\n      // expose the module cache\n\n      /******/\n\n      __webpack_require__.c = installedModules;\n      /******/\n\n      /******/\n      // define getter function for harmony exports\n\n      /******/\n\n      __webpack_require__.d = function (exports, name, getter) {\n        /******/\n        if (!__webpack_require__.o(exports, name)) {\n          /******/\n          Object.defineProperty(exports, name, {\n            /******/\n            configurable: false,\n\n            /******/\n            enumerable: true,\n\n            /******/\n            get: getter\n            /******/\n\n          });\n          /******/\n        }\n        /******/\n\n      };\n      /******/\n\n      /******/\n      // getDefaultExport function for compatibility with non-harmony modules\n\n      /******/\n\n\n      __webpack_require__.n = function (module) {\n        /******/\n        var getter = module && module.__esModule ?\n        /******/\n        function getDefault() {\n          return module['default'];\n        } :\n        /******/\n        function getModuleExports() {\n          return module;\n        };\n        /******/\n\n        __webpack_require__.d(getter, 'a', getter);\n        /******/\n\n\n        return getter;\n        /******/\n      };\n      /******/\n\n      /******/\n      // Object.prototype.hasOwnProperty.call\n\n      /******/\n\n\n      __webpack_require__.o = function (object, property) {\n        return Object.prototype.hasOwnProperty.call(object, property);\n      };\n      /******/\n\n      /******/\n      // __webpack_public_path__\n\n      /******/\n\n\n      __webpack_require__.p = \"\";\n      /******/\n\n      /******/\n      // Load entry module and return exports\n\n      /******/\n\n      return __webpack_require__(__webpack_require__.s = 0);\n      /******/\n    }(\n    /************************************************************************/\n\n    /******/\n    [\n    /* 0 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      /**\n       * g2-brush\n       * @author sima.zhang1990@gmail.com\n       */\n      var Brush = __webpack_require__(1);\n\n      module.exports = Brush;\n      /***/\n    },\n    /* 1 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      function _classCallCheck(instance, Constructor) {\n        if (!(instance instanceof Constructor)) {\n          throw new TypeError(\"Cannot call a class as a function\");\n        }\n      }\n      /**\n       * g2-brush\n       * @author sima.zhang1990@gmail.com\n       */\n\n\n      var Util = __webpack_require__(2);\n\n      var BRUSH_TYPES = ['X', 'Y', 'XY', 'POLYGON'];\n\n      var Brush = function () {\n        function Brush(cfg) {\n          _classCallCheck(this, Brush);\n          /**\n           * keep the first mousedown point\n           * @type {object}\n           */\n\n\n          this.startPoint = null;\n          /**\n           * keep the brush state\n           * @type {Boolean}\n           */\n\n          this.brushing = false;\n          /**\n           * keep the drag state\n           * @type {Boolean}\n           */\n\n          this.dragging = false;\n          /**\n           * the brush shape\n           * @type {G.Shape}\n           */\n\n          this.brushShape = null;\n          /**\n           * the brush container\n           * @type {G.Group}\n           */\n\n          this.container = null;\n          /**\n           * keep polygon path\n           * @type {String}\n           */\n\n          this.polygonPath = null;\n          /**\n           * brush style\n           * @type {Object}\n           */\n\n          this.style = {\n            fill: '#C5D4EB',\n            opacity: 0.3,\n            lineWidth: 1,\n            stroke: '#82A6DD'\n          };\n          /**\n           * brush type\n           * @type {string}\n           */\n\n          this.type = 'XY';\n          /**\n           * is brushShape can be dragable, default is false\n           * @type {Boolean}\n           */\n\n          this.dragable = false;\n          this.dragoffX = 0;\n          this.dragoffY = 0;\n          /**\n           * is limited in plot, default value is true\n           * @type {Boolean}\n           */\n\n          this.inPlot = true;\n          /**\n           * xField\n           * @type {string}\n           */\n\n          this.xField = null;\n          /**\n           * yFiels\n           * @type {string}\n           */\n\n          this.yField = null;\n          /**\n           * Whether to filter the data，default is true\n           * @type {Boolean}\n           */\n\n          this.filter = !cfg.dragable;\n          this.onBrushstart = null;\n          this.onBrushmove = null;\n          this.onBrushend = null;\n          this.onDragstart = null;\n          this.onDragmove = null;\n          this.onDragend = null;\n\n          this._init(cfg);\n        }\n\n        Brush.prototype._init = function _init(cfg) {\n          Util.mix(this, cfg);\n          this.type = this.type.toUpperCase();\n\n          if (BRUSH_TYPES.indexOf(this.type) === -1) {\n            this.type = 'XY';\n          }\n\n          var canvas = this.canvas;\n\n          if (canvas) {\n            var plotRange = void 0;\n            canvas.get('children').map(function (child) {\n              if (child.get('type') === 'plotBack') {\n                plotRange = child.get('plotRange');\n                return false;\n              }\n\n              return child;\n            });\n            this.plot = {\n              start: plotRange.bl,\n              end: plotRange.tr\n            };\n            this.bindCanvasEvent();\n          }\n\n          if (this.chart) {\n            var chart = this.chart;\n            var coord = chart.get('coord');\n            this.plot = {\n              start: coord.start,\n              end: coord.end\n            };\n\n            var xScales = chart._getScales('x');\n\n            var yScales = chart._getScales('y');\n\n            this.xScale = this.xField ? xScales[this.xField] : chart.getXScale();\n            this.yScale = this.yField ? yScales[this.yField] : chart.getYScales()[0];\n          }\n        };\n\n        Brush.prototype.clearEvents = function clearEvents() {\n          this.onMouseDownListener && this.onMouseDownListener.remove();\n          this.onMouseMoveListener && this.onMouseMoveListener.remove();\n          this.onMouseupListener && this.onMouseupListener.remove();\n        };\n\n        Brush.prototype.bindCanvasEvent = function bindCanvasEvent() {\n          var canvas = this.canvas;\n          var canvasDOM = canvas.get('canvasDOM');\n          this.clearEvents();\n          this.onMouseDownListener = Util.addEventListener(canvasDOM, 'mousedown', Util.wrapBehavior(this, '_onCanvasMouseDown'));\n          this.onMouseMoveListener = Util.addEventListener(canvasDOM, 'mousemove', Util.wrapBehavior(this, '_onCanvasMouseMove'));\n          this.onMouseUpListener = Util.addEventListener(canvasDOM, 'mouseup', Util.wrapBehavior(this, '_onCanvasMouseUp'));\n        };\n\n        Brush.prototype._onCanvasMouseDown = function _onCanvasMouseDown(ev) {\n          var me = this;\n          var canvas = me.canvas,\n              type = me.type,\n              brushShape = me.brushShape;\n\n          if (!type) {\n            return;\n          }\n\n          var startPoint = {\n            x: ev.offsetX,\n            y: ev.offsetY\n          };\n          var isInPlot = me.plot && me.inPlot;\n          var canvasDOM = canvas.get('canvasDOM');\n          var pixelRatio = canvas.get('pixelRatio');\n\n          if (me.selection) {\n            me.selection = null;\n          }\n\n          if (me.dragable && brushShape && !brushShape.get('destroyed')) {\n            // allow drag the brushShape\n            if (brushShape.isHit(startPoint.x * pixelRatio, startPoint.y * pixelRatio)) {\n              canvasDOM.style.cursor = 'move';\n              me.selection = brushShape;\n              me.dragging = true;\n\n              if (type === 'X') {\n                me.dragoffX = startPoint.x - brushShape.attr('x');\n                me.dragoffY = 0;\n              } else if (type === 'Y') {\n                me.dragoffX = 0;\n                me.dragoffY = startPoint.y - brushShape.attr('y');\n              } else if (type === 'XY') {\n                me.dragoffX = startPoint.x - brushShape.attr('x');\n                me.dragoffY = startPoint.y - brushShape.attr('y');\n              } else if (type === 'POLYGON') {\n                var box = brushShape.getBBox();\n                me.dragoffX = startPoint.x - box.minX;\n                me.dragoffY = startPoint.y - box.minY;\n              }\n\n              if (isInPlot) {\n                me.selection.attr('clip', canvas.addShape('rect', {\n                  attrs: {\n                    x: this.plot.start.x,\n                    y: this.plot.end.y,\n                    width: this.plot.end.x - this.plot.start.x,\n                    height: this.plot.start.y - this.plot.end.y,\n                    fill: '#fff',\n                    fillOpacity: 0\n                  }\n                }));\n              }\n\n              me.onDragstart && me.onDragstart(ev);\n            }\n\n            me.prePoint = startPoint;\n          }\n\n          if (!me.dragging) {\n            // brush start\n            me.onBrushstart && me.onBrushstart(startPoint);\n            var container = me.container;\n\n            if (isInPlot) {\n              var _me$plot = me.plot,\n                  start = _me$plot.start,\n                  end = _me$plot.end;\n\n              if (startPoint.x < start.x || startPoint.x > end.x || startPoint.y < end.y || startPoint.y > start.y) {\n                return;\n              }\n            }\n\n            canvasDOM.style.cursor = 'crosshair';\n            me.startPoint = startPoint;\n            me.brushShape = null;\n            me.brushing = true;\n\n            if (!container) {\n              container = canvas.addGroup({\n                zIndex: 5 // upper\n\n              });\n              container.initTransform();\n            } else {\n              container.clear();\n            }\n\n            me.container = container;\n\n            if (type === 'POLYGON') {\n              me.polygonPath = 'M ' + startPoint.x + ' ' + startPoint.y;\n            }\n          }\n        };\n\n        Brush.prototype._onCanvasMouseMove = function _onCanvasMouseMove(ev) {\n          var me = this;\n          var brushing = me.brushing,\n              dragging = me.dragging,\n              type = me.type,\n              plot = me.plot,\n              startPoint = me.startPoint,\n              xScale = me.xScale,\n              yScale = me.yScale,\n              canvas = me.canvas;\n\n          if (!brushing && !dragging) {\n            return;\n          }\n\n          var currentPoint = {\n            x: ev.offsetX,\n            y: ev.offsetY\n          };\n          var canvasDOM = canvas.get('canvasDOM');\n\n          if (brushing) {\n            canvasDOM.style.cursor = 'crosshair';\n            var start = plot.start,\n                end = plot.end;\n            var polygonPath = me.polygonPath;\n            var brushShape = me.brushShape;\n            var container = me.container;\n\n            if (me.plot && me.inPlot) {\n              currentPoint = me._limitCoordScope(currentPoint);\n            }\n\n            var rectStartX = void 0;\n            var rectStartY = void 0;\n            var rectWidth = void 0;\n            var rectHeight = void 0;\n\n            if (type === 'Y') {\n              rectStartX = start.x;\n              rectStartY = currentPoint.y >= startPoint.y ? startPoint.y : currentPoint.y;\n              rectWidth = Math.abs(start.x - end.x);\n              rectHeight = Math.abs(startPoint.y - currentPoint.y);\n            } else if (type === 'X') {\n              rectStartX = currentPoint.x >= startPoint.x ? startPoint.x : currentPoint.x;\n              rectStartY = end.y;\n              rectWidth = Math.abs(startPoint.x - currentPoint.x);\n              rectHeight = Math.abs(end.y - start.y);\n            } else if (type === 'XY') {\n              if (currentPoint.x >= startPoint.x) {\n                rectStartX = startPoint.x;\n                rectStartY = currentPoint.y >= startPoint.y ? startPoint.y : currentPoint.y;\n              } else {\n                rectStartX = currentPoint.x;\n                rectStartY = currentPoint.y >= startPoint.y ? startPoint.y : currentPoint.y;\n              }\n\n              rectWidth = Math.abs(startPoint.x - currentPoint.x);\n              rectHeight = Math.abs(startPoint.y - currentPoint.y);\n            } else if (type === 'POLYGON') {\n              polygonPath += 'L ' + currentPoint.x + ' ' + currentPoint.y;\n              me.polygonPath = polygonPath;\n\n              if (!brushShape) {\n                brushShape = container.addShape('path', {\n                  attrs: Util.mix(me.style, {\n                    path: polygonPath\n                  })\n                });\n              } else {\n                !brushShape.get('destroyed') && brushShape.attr(Util.mix({}, brushShape.__attrs, {\n                  path: polygonPath\n                }));\n              }\n            }\n\n            if (type !== 'POLYGON') {\n              if (!brushShape) {\n                brushShape = container.addShape('rect', {\n                  attrs: Util.mix(me.style, {\n                    x: rectStartX,\n                    y: rectStartY,\n                    width: rectWidth,\n                    height: rectHeight\n                  })\n                });\n              } else {\n                !brushShape.get('destroyed') && brushShape.attr(Util.mix({}, brushShape.__attrs, {\n                  x: rectStartX,\n                  y: rectStartY,\n                  width: rectWidth,\n                  height: rectHeight\n                }));\n              }\n            }\n\n            me.brushShape = brushShape;\n          } else if (dragging) {\n            canvasDOM.style.cursor = 'move';\n            var selection = me.selection;\n\n            if (selection && !selection.get('destroyed')) {\n              if (type === 'POLYGON') {\n                var prePoint = me.prePoint;\n                me.selection.translate(currentPoint.x - prePoint.x, currentPoint.y - prePoint.y);\n              } else {\n                me.dragoffX && selection.attr('x', currentPoint.x - me.dragoffX);\n                me.dragoffY && selection.attr('y', currentPoint.y - me.dragoffY);\n              }\n            }\n          }\n\n          me.prePoint = currentPoint;\n          canvas.draw();\n\n          var _me$_getSelected = me._getSelected(),\n              data = _me$_getSelected.data,\n              shapes = _me$_getSelected.shapes,\n              xValues = _me$_getSelected.xValues,\n              yValues = _me$_getSelected.yValues;\n\n          var eventObj = {\n            data: data,\n            shapes: shapes,\n            x: currentPoint.x,\n            y: currentPoint.y\n          };\n\n          if (xScale) {\n            eventObj[xScale.field] = xValues;\n          }\n\n          if (yScale) {\n            eventObj[yScale.field] = yValues;\n          }\n\n          me.onDragmove && me.onDragmove(eventObj);\n          me.onBrushmove && me.onBrushmove(eventObj);\n        };\n\n        Brush.prototype._onCanvasMouseUp = function _onCanvasMouseUp(ev) {\n          var me = this;\n          var data = me.data,\n              shapes = me.shapes,\n              xValues = me.xValues,\n              yValues = me.yValues,\n              canvas = me.canvas,\n              type = me.type,\n              startPoint = me.startPoint,\n              chart = me.chart,\n              container = me.container,\n              xScale = me.xScale,\n              yScale = me.yScale;\n          var offsetX = ev.offsetX,\n              offsetY = ev.offsetY;\n          var canvasDOM = canvas.get('canvasDOM');\n          canvasDOM.style.cursor = 'default';\n\n          if (Math.abs(startPoint.x - offsetX) <= 1 && Math.abs(startPoint.y - offsetY) <= 1) {\n            // 防止点击事件\n            me.brushing = false;\n            me.dragging = false;\n            return;\n          }\n\n          var eventObj = {\n            data: data,\n            shapes: shapes,\n            x: offsetX,\n            y: offsetY\n          };\n\n          if (xScale) {\n            eventObj[xScale.field] = xValues;\n          }\n\n          if (yScale) {\n            eventObj[yScale.field] = yValues;\n          }\n\n          if (me.dragging) {\n            me.dragging = false;\n            me.onDragend && me.onDragend(eventObj);\n          } else if (me.brushing) {\n            me.brushing = false;\n            var brushShape = me.brushShape;\n            var polygonPath = me.polygonPath;\n\n            if (type === 'POLYGON') {\n              polygonPath += 'z';\n              brushShape && !brushShape.get('destroyed') && brushShape.attr(Util.mix({}, brushShape.__attrs, {\n                path: polygonPath\n              }));\n              me.polygonPath = polygonPath;\n              canvas.draw();\n            }\n\n            if (me.onBrushend) {\n              me.onBrushend(eventObj);\n            } else if (chart && me.filter) {\n              container.clear(); // clear the brush\n              // filter data\n\n              if (type === 'X') {\n                xScale && chart.filter(xScale.field, function (val) {\n                  return xValues.indexOf(val) > -1;\n                });\n              } else if (type === 'Y') {\n                yScale && chart.filter(yScale.field, function (val) {\n                  return yValues.indexOf(val) > -1;\n                });\n              } else {\n                xScale && chart.filter(xScale.field, function (val) {\n                  return xValues.indexOf(val) > -1;\n                });\n                yScale && chart.filter(yScale.field, function (val) {\n                  return yValues.indexOf(val) > -1;\n                });\n              }\n\n              chart.repaint();\n            }\n          }\n        };\n\n        Brush.prototype.setType = function setType(type) {\n          if (!type) {\n            return;\n          }\n\n          this.type = type.toUpperCase();\n        };\n\n        Brush.prototype.destroy = function destroy() {\n          this.clearEvents();\n        };\n\n        Brush.prototype._limitCoordScope = function _limitCoordScope(point) {\n          var plot = this.plot;\n          var start = plot.start,\n              end = plot.end;\n\n          if (point.x < start.x) {\n            point.x = start.x;\n          }\n\n          if (point.x > end.x) {\n            point.x = end.x;\n          }\n\n          if (point.y < end.y) {\n            point.y = end.y;\n          }\n\n          if (point.y > start.y) {\n            point.y = start.y;\n          }\n\n          return point;\n        };\n\n        Brush.prototype._getSelected = function _getSelected() {\n          var chart = this.chart,\n              xScale = this.xScale,\n              yScale = this.yScale,\n              brushShape = this.brushShape,\n              canvas = this.canvas;\n          var pixelRatio = canvas.get('pixelRatio');\n          var selectedShapes = [];\n          var xValues = [];\n          var yValues = [];\n          var selectedData = [];\n\n          if (chart) {\n            var geoms = chart.get('geoms');\n            geoms.map(function (geom) {\n              var shapes = geom.getShapes();\n              shapes.map(function (shape) {\n                var shapeData = shape.get('origin');\n\n                if (!Array.isArray(shapeData)) {\n                  // 线图、区域图等\n                  shapeData = [shapeData];\n                }\n\n                shapeData.map(function (each) {\n                  if (brushShape.isHit(each.x * pixelRatio, each.y * pixelRatio)) {\n                    selectedShapes.push(shape);\n                    var origin = each._origin;\n                    selectedData.push(origin);\n                    xScale && xValues.push(origin[xScale.field]);\n                    yScale && yValues.push(origin[yScale.field]);\n                  }\n\n                  return each;\n                });\n                return shape;\n              });\n              return geom;\n            });\n          }\n\n          this.shapes = selectedShapes;\n          this.xValues = xValues;\n          this.yValues = yValues;\n          this.data = selectedData;\n          return {\n            data: selectedData,\n            xValues: xValues,\n            yValues: yValues,\n            shapes: selectedShapes\n          };\n        };\n\n        return Brush;\n      }();\n\n      module.exports = Brush;\n      /***/\n    },\n    /* 2 */\n\n    /***/\n    function (module, exports) {\n      function _mix(dist, obj) {\n        for (var k in obj) {\n          if (obj.hasOwnProperty(k) && k !== 'constructor' && obj[k] !== undefined) {\n            dist[k] = obj[k];\n          }\n        }\n      }\n\n      var Util = {\n        mix: function mix(dist, obj1, obj2, obj3) {\n          if (obj1) {\n            _mix(dist, obj1);\n          }\n\n          if (obj2) {\n            _mix(dist, obj2);\n          }\n\n          if (obj3) {\n            _mix(dist, obj3);\n          }\n\n          return dist;\n        },\n\n        /**\n         * 添加事件监听器\n         * @param  {Object} target DOM对象\n         * @param  {String} eventType 事件名\n         * @param  {Funtion} callback 回调函数\n         * @return {Object} 返回对象\n         */\n        addEventListener: function addEventListener(target, eventType, callback) {\n          if (target.addEventListener) {\n            target.addEventListener(eventType, callback, false);\n            return {\n              remove: function remove() {\n                target.removeEventListener(eventType, callback, false);\n              }\n            };\n          } else if (target.attachEvent) {\n            target.attachEvent('on' + eventType, callback);\n            return {\n              remove: function remove() {\n                target.detachEvent('on' + eventType, callback);\n              }\n            };\n          }\n        },\n\n        /**\n         * 封装事件，便于使用上下文this,和便于解除事件时使用\n         * @protected\n         * @param  {Object} obj   对象\n         * @param  {String} action 事件名称\n         * @return {Function}        返回事件处理函数\n         */\n        wrapBehavior: function wrapBehavior(obj, action) {\n          if (obj['_wrap_' + action]) {\n            return obj['_wrap_' + action];\n          }\n\n          var method = function method(e) {\n            obj[action](e);\n          };\n\n          obj['_wrap_' + action] = method;\n          return method;\n        },\n\n        /**\n         * 获取封装的事件\n         * @protected\n         * @param  {Object} obj   对象\n         * @param  {String} action 事件名称\n         * @return {Function}        返回事件处理函数\n         */\n        getWrapBehavior: function getWrapBehavior(obj, action) {\n          return obj['_wrap_' + action];\n        }\n      };\n      module.exports = Util;\n      /***/\n    }\n    /******/\n    ])\n  );\n});","map":{"version":3,"sources":["/home/user/Desktop/milonux-sq-dashboard-59aefe7abad7/node_modules/@antv/g2-brush/build/g2-brush.js"],"names":["webpackUniversalModuleDefinition","root","factory","exports","module","define","amd","modules","installedModules","__webpack_require__","moduleId","i","l","call","m","c","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","n","__esModule","getDefault","getModuleExports","object","property","prototype","hasOwnProperty","p","s","Brush","_classCallCheck","instance","Constructor","TypeError","Util","BRUSH_TYPES","cfg","startPoint","brushing","dragging","brushShape","container","polygonPath","style","fill","opacity","lineWidth","stroke","type","dragable","dragoffX","dragoffY","inPlot","xField","yField","filter","onBrushstart","onBrushmove","onBrushend","onDragstart","onDragmove","onDragend","_init","mix","toUpperCase","indexOf","canvas","plotRange","map","child","plot","start","bl","end","tr","bindCanvasEvent","chart","coord","xScales","_getScales","yScales","xScale","getXScale","yScale","getYScales","clearEvents","onMouseDownListener","remove","onMouseMoveListener","onMouseupListener","canvasDOM","addEventListener","wrapBehavior","onMouseUpListener","_onCanvasMouseDown","ev","me","x","offsetX","y","offsetY","isInPlot","pixelRatio","selection","isHit","cursor","attr","box","getBBox","minX","minY","addShape","attrs","width","height","fillOpacity","prePoint","_me$plot","addGroup","zIndex","initTransform","clear","_onCanvasMouseMove","currentPoint","_limitCoordScope","rectStartX","rectStartY","rectWidth","rectHeight","Math","abs","path","__attrs","translate","draw","_me$_getSelected","_getSelected","data","shapes","xValues","yValues","eventObj","field","_onCanvasMouseUp","val","repaint","setType","destroy","point","selectedShapes","selectedData","geoms","geom","getShapes","shape","shapeData","Array","isArray","each","push","origin","_origin","_mix","dist","obj","k","undefined","obj1","obj2","obj3","target","eventType","callback","removeEventListener","attachEvent","detachEvent","action","method","e","getWrapBehavior"],"mappings":"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","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"Brush\"] = factory();\n\telse\n\t\troot[\"Brush\"] = factory();\n})(this, function() {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, {\n/******/ \t\t\t\tconfigurable: false,\n/******/ \t\t\t\tenumerable: true,\n/******/ \t\t\t\tget: getter\n/******/ \t\t\t});\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports, __webpack_require__) {\n\n/**\n * g2-brush\n * @author sima.zhang1990@gmail.com\n */\nvar Brush = __webpack_require__(1);\nmodule.exports = Brush;\n\n/***/ }),\n/* 1 */\n/***/ (function(module, exports, __webpack_require__) {\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/**\n * g2-brush\n * @author sima.zhang1990@gmail.com\n */\nvar Util = __webpack_require__(2);\nvar BRUSH_TYPES = ['X', 'Y', 'XY', 'POLYGON'];\n\nvar Brush = function () {\n  function Brush(cfg) {\n    _classCallCheck(this, Brush);\n\n    /**\n     * keep the first mousedown point\n     * @type {object}\n     */\n    this.startPoint = null;\n    /**\n     * keep the brush state\n     * @type {Boolean}\n     */\n    this.brushing = false;\n    /**\n     * keep the drag state\n     * @type {Boolean}\n     */\n    this.dragging = false;\n    /**\n     * the brush shape\n     * @type {G.Shape}\n     */\n    this.brushShape = null;\n    /**\n     * the brush container\n     * @type {G.Group}\n     */\n    this.container = null;\n    /**\n     * keep polygon path\n     * @type {String}\n     */\n    this.polygonPath = null;\n    /**\n     * brush style\n     * @type {Object}\n     */\n    this.style = {\n      fill: '#C5D4EB',\n      opacity: 0.3,\n      lineWidth: 1,\n      stroke: '#82A6DD'\n    };\n    /**\n     * brush type\n     * @type {string}\n     */\n    this.type = 'XY';\n    /**\n     * is brushShape can be dragable, default is false\n     * @type {Boolean}\n     */\n    this.dragable = false;\n    this.dragoffX = 0;\n    this.dragoffY = 0;\n    /**\n     * is limited in plot, default value is true\n     * @type {Boolean}\n     */\n    this.inPlot = true;\n    /**\n     * xField\n     * @type {string}\n     */\n    this.xField = null;\n    /**\n     * yFiels\n     * @type {string}\n     */\n    this.yField = null;\n    /**\n     * Whether to filter the data，default is true\n     * @type {Boolean}\n     */\n    this.filter = !cfg.dragable;\n    this.onBrushstart = null;\n    this.onBrushmove = null;\n    this.onBrushend = null;\n    this.onDragstart = null;\n    this.onDragmove = null;\n    this.onDragend = null;\n\n    this._init(cfg);\n  }\n\n  Brush.prototype._init = function _init(cfg) {\n    Util.mix(this, cfg);\n    this.type = this.type.toUpperCase();\n    if (BRUSH_TYPES.indexOf(this.type) === -1) {\n      this.type = 'XY';\n    }\n    var canvas = this.canvas;\n    if (canvas) {\n      var plotRange = void 0;\n      canvas.get('children').map(function (child) {\n        if (child.get('type') === 'plotBack') {\n          plotRange = child.get('plotRange');\n          return false;\n        }\n        return child;\n      });\n      this.plot = {\n        start: plotRange.bl,\n        end: plotRange.tr\n      };\n\n      this.bindCanvasEvent();\n    }\n\n    if (this.chart) {\n      var chart = this.chart;\n      var coord = chart.get('coord');\n      this.plot = {\n        start: coord.start,\n        end: coord.end\n      };\n      var xScales = chart._getScales('x');\n      var yScales = chart._getScales('y');\n      this.xScale = this.xField ? xScales[this.xField] : chart.getXScale();\n      this.yScale = this.yField ? yScales[this.yField] : chart.getYScales()[0];\n    }\n  };\n\n  Brush.prototype.clearEvents = function clearEvents() {\n    this.onMouseDownListener && this.onMouseDownListener.remove();\n    this.onMouseMoveListener && this.onMouseMoveListener.remove();\n    this.onMouseupListener && this.onMouseupListener.remove();\n  };\n\n  Brush.prototype.bindCanvasEvent = function bindCanvasEvent() {\n    var canvas = this.canvas;\n\n    var canvasDOM = canvas.get('canvasDOM');\n    this.clearEvents();\n    this.onMouseDownListener = Util.addEventListener(canvasDOM, 'mousedown', Util.wrapBehavior(this, '_onCanvasMouseDown'));\n    this.onMouseMoveListener = Util.addEventListener(canvasDOM, 'mousemove', Util.wrapBehavior(this, '_onCanvasMouseMove'));\n    this.onMouseUpListener = Util.addEventListener(canvasDOM, 'mouseup', Util.wrapBehavior(this, '_onCanvasMouseUp'));\n  };\n\n  Brush.prototype._onCanvasMouseDown = function _onCanvasMouseDown(ev) {\n    var me = this;\n    var canvas = me.canvas,\n        type = me.type,\n        brushShape = me.brushShape;\n\n\n    if (!type) {\n      return;\n    }\n\n    var startPoint = { x: ev.offsetX, y: ev.offsetY };\n    var isInPlot = me.plot && me.inPlot;\n    var canvasDOM = canvas.get('canvasDOM');\n    var pixelRatio = canvas.get('pixelRatio');\n\n    if (me.selection) {\n      me.selection = null;\n    }\n\n    if (me.dragable && brushShape && !brushShape.get('destroyed')) {\n      // allow drag the brushShape\n      if (brushShape.isHit(startPoint.x * pixelRatio, startPoint.y * pixelRatio)) {\n        canvasDOM.style.cursor = 'move';\n        me.selection = brushShape;\n        me.dragging = true;\n        if (type === 'X') {\n          me.dragoffX = startPoint.x - brushShape.attr('x');\n          me.dragoffY = 0;\n        } else if (type === 'Y') {\n          me.dragoffX = 0;\n          me.dragoffY = startPoint.y - brushShape.attr('y');\n        } else if (type === 'XY') {\n          me.dragoffX = startPoint.x - brushShape.attr('x');\n          me.dragoffY = startPoint.y - brushShape.attr('y');\n        } else if (type === 'POLYGON') {\n          var box = brushShape.getBBox();\n          me.dragoffX = startPoint.x - box.minX;\n          me.dragoffY = startPoint.y - box.minY;\n        }\n\n        if (isInPlot) {\n          me.selection.attr('clip', canvas.addShape('rect', {\n            attrs: {\n              x: this.plot.start.x,\n              y: this.plot.end.y,\n              width: this.plot.end.x - this.plot.start.x,\n              height: this.plot.start.y - this.plot.end.y,\n              fill: '#fff',\n              fillOpacity: 0\n            }\n          }));\n        }\n        me.onDragstart && me.onDragstart(ev);\n      }\n      me.prePoint = startPoint;\n    }\n\n    if (!me.dragging) {\n      // brush start\n      me.onBrushstart && me.onBrushstart(startPoint);\n      var container = me.container;\n      if (isInPlot) {\n        var _me$plot = me.plot,\n            start = _me$plot.start,\n            end = _me$plot.end;\n\n        if (startPoint.x < start.x || startPoint.x > end.x || startPoint.y < end.y || startPoint.y > start.y) {\n          return;\n        }\n      }\n      canvasDOM.style.cursor = 'crosshair';\n      me.startPoint = startPoint;\n      me.brushShape = null;\n      me.brushing = true;\n\n      if (!container) {\n        container = canvas.addGroup({\n          zIndex: 5 // upper\n        });\n        container.initTransform();\n      } else {\n        container.clear();\n      }\n      me.container = container;\n\n      if (type === 'POLYGON') {\n        me.polygonPath = 'M ' + startPoint.x + ' ' + startPoint.y;\n      }\n    }\n  };\n\n  Brush.prototype._onCanvasMouseMove = function _onCanvasMouseMove(ev) {\n    var me = this;\n    var brushing = me.brushing,\n        dragging = me.dragging,\n        type = me.type,\n        plot = me.plot,\n        startPoint = me.startPoint,\n        xScale = me.xScale,\n        yScale = me.yScale,\n        canvas = me.canvas;\n\n\n    if (!brushing && !dragging) {\n      return;\n    }\n    var currentPoint = {\n      x: ev.offsetX,\n      y: ev.offsetY\n    };\n    var canvasDOM = canvas.get('canvasDOM');\n\n    if (brushing) {\n      canvasDOM.style.cursor = 'crosshair';\n      var start = plot.start,\n          end = plot.end;\n\n      var polygonPath = me.polygonPath;\n      var brushShape = me.brushShape;\n      var container = me.container;\n      if (me.plot && me.inPlot) {\n        currentPoint = me._limitCoordScope(currentPoint);\n      }\n\n      var rectStartX = void 0;\n      var rectStartY = void 0;\n      var rectWidth = void 0;\n      var rectHeight = void 0;\n\n      if (type === 'Y') {\n        rectStartX = start.x;\n        rectStartY = currentPoint.y >= startPoint.y ? startPoint.y : currentPoint.y;\n        rectWidth = Math.abs(start.x - end.x);\n        rectHeight = Math.abs(startPoint.y - currentPoint.y);\n      } else if (type === 'X') {\n        rectStartX = currentPoint.x >= startPoint.x ? startPoint.x : currentPoint.x;\n        rectStartY = end.y;\n        rectWidth = Math.abs(startPoint.x - currentPoint.x);\n        rectHeight = Math.abs(end.y - start.y);\n      } else if (type === 'XY') {\n        if (currentPoint.x >= startPoint.x) {\n          rectStartX = startPoint.x;\n          rectStartY = currentPoint.y >= startPoint.y ? startPoint.y : currentPoint.y;\n        } else {\n          rectStartX = currentPoint.x;\n          rectStartY = currentPoint.y >= startPoint.y ? startPoint.y : currentPoint.y;\n        }\n        rectWidth = Math.abs(startPoint.x - currentPoint.x);\n        rectHeight = Math.abs(startPoint.y - currentPoint.y);\n      } else if (type === 'POLYGON') {\n        polygonPath += 'L ' + currentPoint.x + ' ' + currentPoint.y;\n        me.polygonPath = polygonPath;\n        if (!brushShape) {\n          brushShape = container.addShape('path', {\n            attrs: Util.mix(me.style, {\n              path: polygonPath\n            })\n          });\n        } else {\n          !brushShape.get('destroyed') && brushShape.attr(Util.mix({}, brushShape.__attrs, {\n            path: polygonPath\n          }));\n        }\n      }\n      if (type !== 'POLYGON') {\n        if (!brushShape) {\n          brushShape = container.addShape('rect', {\n            attrs: Util.mix(me.style, {\n              x: rectStartX,\n              y: rectStartY,\n              width: rectWidth,\n              height: rectHeight\n            })\n          });\n        } else {\n          !brushShape.get('destroyed') && brushShape.attr(Util.mix({}, brushShape.__attrs, {\n            x: rectStartX,\n            y: rectStartY,\n            width: rectWidth,\n            height: rectHeight\n          }));\n        }\n      }\n\n      me.brushShape = brushShape;\n    } else if (dragging) {\n      canvasDOM.style.cursor = 'move';\n      var selection = me.selection;\n      if (selection && !selection.get('destroyed')) {\n        if (type === 'POLYGON') {\n          var prePoint = me.prePoint;\n          me.selection.translate(currentPoint.x - prePoint.x, currentPoint.y - prePoint.y);\n        } else {\n          me.dragoffX && selection.attr('x', currentPoint.x - me.dragoffX);\n          me.dragoffY && selection.attr('y', currentPoint.y - me.dragoffY);\n        }\n      }\n    }\n\n    me.prePoint = currentPoint;\n    canvas.draw();\n\n    var _me$_getSelected = me._getSelected(),\n        data = _me$_getSelected.data,\n        shapes = _me$_getSelected.shapes,\n        xValues = _me$_getSelected.xValues,\n        yValues = _me$_getSelected.yValues;\n\n    var eventObj = {\n      data: data,\n      shapes: shapes,\n      x: currentPoint.x,\n      y: currentPoint.y\n    };\n\n    if (xScale) {\n      eventObj[xScale.field] = xValues;\n    }\n    if (yScale) {\n      eventObj[yScale.field] = yValues;\n    }\n    me.onDragmove && me.onDragmove(eventObj);\n    me.onBrushmove && me.onBrushmove(eventObj);\n  };\n\n  Brush.prototype._onCanvasMouseUp = function _onCanvasMouseUp(ev) {\n    var me = this;\n    var data = me.data,\n        shapes = me.shapes,\n        xValues = me.xValues,\n        yValues = me.yValues,\n        canvas = me.canvas,\n        type = me.type,\n        startPoint = me.startPoint,\n        chart = me.chart,\n        container = me.container,\n        xScale = me.xScale,\n        yScale = me.yScale;\n    var offsetX = ev.offsetX,\n        offsetY = ev.offsetY;\n\n    var canvasDOM = canvas.get('canvasDOM');\n    canvasDOM.style.cursor = 'default';\n\n    if (Math.abs(startPoint.x - offsetX) <= 1 && Math.abs(startPoint.y - offsetY) <= 1) {\n      // 防止点击事件\n      me.brushing = false;\n      me.dragging = false;\n      return;\n    }\n\n    var eventObj = {\n      data: data,\n      shapes: shapes,\n      x: offsetX,\n      y: offsetY\n    };\n    if (xScale) {\n      eventObj[xScale.field] = xValues;\n    }\n    if (yScale) {\n      eventObj[yScale.field] = yValues;\n    }\n\n    if (me.dragging) {\n      me.dragging = false;\n      me.onDragend && me.onDragend(eventObj);\n    } else if (me.brushing) {\n      me.brushing = false;\n      var brushShape = me.brushShape;\n      var polygonPath = me.polygonPath;\n\n      if (type === 'POLYGON') {\n        polygonPath += 'z';\n\n        brushShape && !brushShape.get('destroyed') && brushShape.attr(Util.mix({}, brushShape.__attrs, {\n          path: polygonPath\n        }));\n        me.polygonPath = polygonPath;\n        canvas.draw();\n      }\n\n      if (me.onBrushend) {\n        me.onBrushend(eventObj);\n      } else if (chart && me.filter) {\n        container.clear(); // clear the brush\n        // filter data\n        if (type === 'X') {\n          xScale && chart.filter(xScale.field, function (val) {\n            return xValues.indexOf(val) > -1;\n          });\n        } else if (type === 'Y') {\n          yScale && chart.filter(yScale.field, function (val) {\n            return yValues.indexOf(val) > -1;\n          });\n        } else {\n          xScale && chart.filter(xScale.field, function (val) {\n            return xValues.indexOf(val) > -1;\n          });\n          yScale && chart.filter(yScale.field, function (val) {\n            return yValues.indexOf(val) > -1;\n          });\n        }\n        chart.repaint();\n      }\n    }\n  };\n\n  Brush.prototype.setType = function setType(type) {\n    if (!type) {\n      return;\n    }\n\n    this.type = type.toUpperCase();\n  };\n\n  Brush.prototype.destroy = function destroy() {\n    this.clearEvents();\n  };\n\n  Brush.prototype._limitCoordScope = function _limitCoordScope(point) {\n    var plot = this.plot;\n    var start = plot.start,\n        end = plot.end;\n\n\n    if (point.x < start.x) {\n      point.x = start.x;\n    }\n    if (point.x > end.x) {\n      point.x = end.x;\n    }\n    if (point.y < end.y) {\n      point.y = end.y;\n    }\n    if (point.y > start.y) {\n      point.y = start.y;\n    }\n    return point;\n  };\n\n  Brush.prototype._getSelected = function _getSelected() {\n    var chart = this.chart,\n        xScale = this.xScale,\n        yScale = this.yScale,\n        brushShape = this.brushShape,\n        canvas = this.canvas;\n\n    var pixelRatio = canvas.get('pixelRatio');\n    var selectedShapes = [];\n    var xValues = [];\n    var yValues = [];\n    var selectedData = [];\n    if (chart) {\n      var geoms = chart.get('geoms');\n      geoms.map(function (geom) {\n        var shapes = geom.getShapes();\n        shapes.map(function (shape) {\n          var shapeData = shape.get('origin');\n          if (!Array.isArray(shapeData)) {\n            // 线图、区域图等\n            shapeData = [shapeData];\n          }\n\n          shapeData.map(function (each) {\n            if (brushShape.isHit(each.x * pixelRatio, each.y * pixelRatio)) {\n              selectedShapes.push(shape);\n              var origin = each._origin;\n              selectedData.push(origin);\n              xScale && xValues.push(origin[xScale.field]);\n              yScale && yValues.push(origin[yScale.field]);\n            }\n            return each;\n          });\n\n          return shape;\n        });\n        return geom;\n      });\n    }\n    this.shapes = selectedShapes;\n    this.xValues = xValues;\n    this.yValues = yValues;\n    this.data = selectedData;\n    return {\n      data: selectedData,\n      xValues: xValues,\n      yValues: yValues,\n      shapes: selectedShapes\n    };\n  };\n\n  return Brush;\n}();\n\nmodule.exports = Brush;\n\n/***/ }),\n/* 2 */\n/***/ (function(module, exports) {\n\nfunction _mix(dist, obj) {\n  for (var k in obj) {\n    if (obj.hasOwnProperty(k) && k !== 'constructor' && obj[k] !== undefined) {\n      dist[k] = obj[k];\n    }\n  }\n}\n\nvar Util = {\n  mix: function mix(dist, obj1, obj2, obj3) {\n    if (obj1) {\n      _mix(dist, obj1);\n    }\n\n    if (obj2) {\n      _mix(dist, obj2);\n    }\n\n    if (obj3) {\n      _mix(dist, obj3);\n    }\n    return dist;\n  },\n\n  /**\n   * 添加事件监听器\n   * @param  {Object} target DOM对象\n   * @param  {String} eventType 事件名\n   * @param  {Funtion} callback 回调函数\n   * @return {Object} 返回对象\n   */\n  addEventListener: function addEventListener(target, eventType, callback) {\n    if (target.addEventListener) {\n      target.addEventListener(eventType, callback, false);\n      return {\n        remove: function remove() {\n          target.removeEventListener(eventType, callback, false);\n        }\n      };\n    } else if (target.attachEvent) {\n      target.attachEvent('on' + eventType, callback);\n      return {\n        remove: function remove() {\n          target.detachEvent('on' + eventType, callback);\n        }\n      };\n    }\n  },\n\n  /**\n   * 封装事件，便于使用上下文this,和便于解除事件时使用\n   * @protected\n   * @param  {Object} obj   对象\n   * @param  {String} action 事件名称\n   * @return {Function}        返回事件处理函数\n   */\n  wrapBehavior: function wrapBehavior(obj, action) {\n    if (obj['_wrap_' + action]) {\n      return obj['_wrap_' + action];\n    }\n    var method = function method(e) {\n      obj[action](e);\n    };\n    obj['_wrap_' + action] = method;\n    return method;\n  },\n\n  /**\n   * 获取封装的事件\n   * @protected\n   * @param  {Object} obj   对象\n   * @param  {String} action 事件名称\n   * @return {Function}        返回事件处理函数\n   */\n  getWrapBehavior: function getWrapBehavior(obj, action) {\n    return obj['_wrap_' + action];\n  }\n};\n\nmodule.exports = Util;\n\n/***/ })\n/******/ ]);\n});"]},"metadata":{},"sourceType":"script"}