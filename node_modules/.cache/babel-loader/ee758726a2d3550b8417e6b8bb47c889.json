{"ast":null,"code":"/**\n* Copyright 2012-2019, Plotly, Inc.\n* All rights reserved.\n*\n* This source code is licensed under the MIT license found in the\n* LICENSE file in the root directory of this source tree.\n*/\n'use strict';\n\nvar Lib = require('../../lib');\n\nvar overrideAll = require('../../plot_api/edit_types').overrideAll;\n\nvar attributes = require('./attributes');\n\nvar xyAttrs = {\n  error_x: Lib.extendFlat({}, attributes),\n  error_y: Lib.extendFlat({}, attributes)\n};\ndelete xyAttrs.error_x.copy_zstyle;\ndelete xyAttrs.error_y.copy_zstyle;\ndelete xyAttrs.error_y.copy_ystyle;\nvar xyzAttrs = {\n  error_x: Lib.extendFlat({}, attributes),\n  error_y: Lib.extendFlat({}, attributes),\n  error_z: Lib.extendFlat({}, attributes)\n};\ndelete xyzAttrs.error_x.copy_ystyle;\ndelete xyzAttrs.error_y.copy_ystyle;\ndelete xyzAttrs.error_z.copy_ystyle;\ndelete xyzAttrs.error_z.copy_zstyle;\nmodule.exports = {\n  moduleType: 'component',\n  name: 'errorbars',\n  schema: {\n    traces: {\n      scatter: xyAttrs,\n      bar: xyAttrs,\n      histogram: xyAttrs,\n      scatter3d: overrideAll(xyzAttrs, 'calc', 'nested'),\n      scattergl: overrideAll(xyAttrs, 'calc', 'nested')\n    }\n  },\n  supplyDefaults: require('./defaults'),\n  calc: require('./calc'),\n  makeComputeError: require('./compute_error'),\n  plot: require('./plot'),\n  style: require('./style'),\n  hoverInfo: hoverInfo\n};\n\nfunction hoverInfo(calcPoint, trace, hoverPoint) {\n  if ((trace.error_y || {}).visible) {\n    hoverPoint.yerr = calcPoint.yh - calcPoint.y;\n    if (!trace.error_y.symmetric) hoverPoint.yerrneg = calcPoint.y - calcPoint.ys;\n  }\n\n  if ((trace.error_x || {}).visible) {\n    hoverPoint.xerr = calcPoint.xh - calcPoint.x;\n    if (!trace.error_x.symmetric) hoverPoint.xerrneg = calcPoint.x - calcPoint.xs;\n  }\n}","map":null,"metadata":{},"sourceType":"script"}